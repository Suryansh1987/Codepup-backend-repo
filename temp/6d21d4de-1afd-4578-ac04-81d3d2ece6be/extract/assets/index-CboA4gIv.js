var Zc=e=>{throw TypeError(e)};var Wo=(e,t,r)=>t.has(e)||Zc("Cannot "+r);var C=(e,t,r)=>(Wo(e,t,"read from private field"),r?r.call(e):t.get(e)),ce=(e,t,r)=>t.has(e)?Zc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ee=(e,t,r,n)=>(Wo(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),We=(e,t,r)=>(Wo(e,t,"access private method"),r);var Qi=(e,t,r,n)=>({set _(s){ee(e,t,s,r)},get _(){return C(e,t,n)}});function Ng(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var df={exports:{}},po={},hf={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=Symbol.for("react.element"),Pg=Symbol.for("react.portal"),Tg=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),Rg=Symbol.for("react.provider"),Ig=Symbol.for("react.context"),Lg=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),$g=Symbol.for("react.memo"),Fg=Symbol.for("react.lazy"),ed=Symbol.iterator;function Ug(e){return e===null||typeof e!="object"?null:(e=ed&&e[ed]||e["@@iterator"],typeof e=="function"?e:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pf=Object.assign,mf={};function Ss(e,t,r){this.props=e,this.context=t,this.refs=mf,this.updater=r||ff}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gf(){}gf.prototype=Ss.prototype;function zu(e,t,r){this.props=e,this.context=t,this.refs=mf,this.updater=r||ff}var Bu=zu.prototype=new gf;Bu.constructor=zu;pf(Bu,Ss.prototype);Bu.isPureReactComponent=!0;var td=Array.isArray,yf=Object.prototype.hasOwnProperty,Vu={current:null},vf={key:!0,ref:!0,__self:!0,__source:!0};function wf(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)yf.call(t,n)&&!vf.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Li,type:e,key:i,ref:a,props:s,_owner:Vu.current}}function Mg(e,t){return{$$typeof:Li,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Li}function zg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var rd=/\/+/g;function Ho(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zg(""+e.key):t.toString(36)}function va(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Li:case Pg:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ho(a,0):n,td(s)?(r="",e!=null&&(r=e.replace(rd,"$&/")+"/"),va(s,t,r,"",function(c){return c})):s!=null&&(qu(s)&&(s=Mg(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(rd,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",td(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+Ho(i,o);a+=va(i,t,r,l,s)}else if(l=Ug(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+Ho(i,o++),a+=va(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gi(e,t,r){if(e==null)return e;var n=[],s=0;return va(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Bg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},wa={transition:null},Vg={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:wa,ReactCurrentOwner:Vu};function xf(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:Gi,forEach:function(e,t,r){Gi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gi(e,function(){t++}),t},toArray:function(e){return Gi(e,function(t){return t})||[]},only:function(e){if(!qu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Ss;se.Fragment=Tg;se.Profiler=Ag;se.PureComponent=zu;se.StrictMode=Og;se.Suspense=Dg;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vg;se.act=xf;se.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pf({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Vu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)yf.call(t,l)&&!vf.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Li,type:e.type,key:s,ref:i,props:n,_owner:a}};se.createContext=function(e){return e={$$typeof:Ig,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Rg,_context:e},e.Consumer=e};se.createElement=wf;se.createFactory=function(e){var t=wf.bind(null,e);return t.type=e,t};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Lg,render:e}};se.isValidElement=qu;se.lazy=function(e){return{$$typeof:Fg,_payload:{_status:-1,_result:e},_init:Bg}};se.memo=function(e,t){return{$$typeof:$g,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=wa.transition;wa.transition={};try{e()}finally{wa.transition=t}};se.unstable_act=xf;se.useCallback=function(e,t){return st.current.useCallback(e,t)};se.useContext=function(e){return st.current.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e){return st.current.useDeferredValue(e)};se.useEffect=function(e,t){return st.current.useEffect(e,t)};se.useId=function(){return st.current.useId()};se.useImperativeHandle=function(e,t,r){return st.current.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};se.useMemo=function(e,t){return st.current.useMemo(e,t)};se.useReducer=function(e,t,r){return st.current.useReducer(e,t,r)};se.useRef=function(e){return st.current.useRef(e)};se.useState=function(e){return st.current.useState(e)};se.useSyncExternalStore=function(e,t,r){return st.current.useSyncExternalStore(e,t,r)};se.useTransition=function(){return st.current.useTransition()};se.version="18.3.1";hf.exports=se;var N=hf.exports;const L=cf(N),qg=Ng({__proto__:null,default:L},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=N,Hg=Symbol.for("react.element"),Kg=Symbol.for("react.fragment"),Qg=Object.prototype.hasOwnProperty,Gg=Wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jg={key:!0,ref:!0,__self:!0,__source:!0};function _f(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Qg.call(t,n)&&!Jg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Hg,type:e,key:i,ref:a,props:s,_owner:Gg.current}}po.Fragment=Kg;po.jsx=_f;po.jsxs=_f;df.exports=po;var u=df.exports,bf={exports:{}},xt={},kf={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,M){var W=T.length;T.push(M);e:for(;0<W;){var V=W-1>>>1,H=T[V];if(0<s(H,M))T[V]=M,T[W]=H,W=V;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var M=T[0],W=T.pop();if(W!==M){T[0]=W;e:for(var V=0,H=T.length,te=H>>>1;V<te;){var de=2*(V+1)-1,Ie=T[de],re=de+1,Fe=T[re];if(0>s(Ie,W))re<H&&0>s(Fe,Ie)?(T[V]=Fe,T[re]=W,V=re):(T[V]=Ie,T[de]=W,V=de);else if(re<H&&0>s(Fe,W))T[V]=Fe,T[re]=W,V=re;else break e}}return M}function s(T,M){var W=T.sortIndex-M.sortIndex;return W!==0?W:T.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,f=null,h=3,y=!1,w=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var M=r(c);M!==null;){if(M.callback===null)n(c);else if(M.startTime<=T)n(c),M.sortIndex=M.expirationTime,t(l,M);else break;M=r(c)}}function k(T){if(v=!1,g(T),!w)if(r(l)!==null)w=!0,B(b);else{var M=r(c);M!==null&&le(k,M.startTime-T)}}function b(T,M){w=!1,v&&(v=!1,m(A),A=-1),y=!0;var W=h;try{for(g(M),f=r(l);f!==null&&(!(f.expirationTime>M)||T&&!ue());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var H=V(f.expirationTime<=M);M=e.unstable_now(),typeof H=="function"?f.callback=H:f===r(l)&&n(l),g(M)}else n(l);f=r(l)}if(f!==null)var te=!0;else{var de=r(c);de!==null&&le(k,de.startTime-M),te=!1}return te}finally{f=null,h=W,y=!1}}var E=!1,P=null,A=-1,G=5,z=-1;function ue(){return!(e.unstable_now()-z<G)}function K(){if(P!==null){var T=e.unstable_now();z=T;var M=!0;try{M=P(!0,T)}finally{M?J():(E=!1,P=null)}}else E=!1}var J;if(typeof p=="function")J=function(){p(K)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Q=O.port2;O.port1.onmessage=K,J=function(){Q.postMessage(null)}}else J=function(){_(K,0)};function B(T){P=T,E||(E=!0,J())}function le(T,M){A=_(function(){T(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,B(b))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var W=h;h=M;try{return T()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,M){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var W=h;h=T;try{return M()}finally{h=W}},e.unstable_scheduleCallback=function(T,M,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,T){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,T={id:d++,callback:M,priorityLevel:T,startTime:W,expirationTime:H,sortIndex:-1},W>V?(T.sortIndex=W,t(c,T),r(l)===null&&T===r(c)&&(v?(m(A),A=-1):v=!0,le(k,W-V))):(T.sortIndex=H,t(l,T),w||y||(w=!0,B(b))),T},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(T){var M=h;return function(){var W=h;h=M;try{return T.apply(this,arguments)}finally{h=W}}}})(Sf);kf.exports=Sf;var Yg=kf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg=N,wt=Yg;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jf=new Set,di={};function Cn(e,t){gs(e,t),gs(e+"Capture",t)}function gs(e,t){for(di[e]=t,e=0;e<t.length;e++)jf.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=Object.prototype.hasOwnProperty,Zg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nd={},sd={};function e0(e){return Ol.call(sd,e)?!0:Ol.call(nd,e)?!1:Zg.test(e)?sd[e]=!0:(nd[e]=!0,!1)}function t0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r0(e,t,r,n){if(t===null||typeof t>"u"||t0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function it(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new it(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new it(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new it(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new it(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new it(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new it(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new it(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new it(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new it(e,5,!1,e.toLowerCase(),null,!1,!1)});var Wu=/[\-:]([a-z])/g;function Hu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Wu,Hu);qe[t]=new it(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Wu,Hu);qe[t]=new it(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Wu,Hu);qe[t]=new it(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new it(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new it("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new it(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ku(e,t,r,n){var s=qe.hasOwnProperty(t)?qe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r0(t,r,s,n)&&(r=null),n||s===null?e0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wr=Xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ji=Symbol.for("react.element"),Bn=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),Qu=Symbol.for("react.strict_mode"),Al=Symbol.for("react.profiler"),Ef=Symbol.for("react.provider"),Nf=Symbol.for("react.context"),Gu=Symbol.for("react.forward_ref"),Rl=Symbol.for("react.suspense"),Il=Symbol.for("react.suspense_list"),Ju=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),Cf=Symbol.for("react.offscreen"),id=Symbol.iterator;function $s(e){return e===null||typeof e!="object"?null:(e=id&&e[id]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,Ko;function Qs(e){if(Ko===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ko=t&&t[1]||""}return`
`+Ko+e}var Qo=!1;function Go(e,t){if(!e||Qo)return"";Qo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Qo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Qs(e):""}function n0(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=Go(e.type,!1),e;case 11:return e=Go(e.type.render,!1),e;case 1:return e=Go(e.type,!0),e;default:return""}}function Ll(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vn:return"Fragment";case Bn:return"Portal";case Al:return"Profiler";case Qu:return"StrictMode";case Rl:return"Suspense";case Il:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Nf:return(e.displayName||"Context")+".Consumer";case Ef:return(e._context.displayName||"Context")+".Provider";case Gu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ju:return t=e.displayName||null,t!==null?t:Ll(e.type)||"Memo";case Er:t=e._payload,e=e._init;try{return Ll(e(t))}catch{}}return null}function s0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ll(t);case 8:return t===Qu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i0(e){var t=Pf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yi(e){e._valueTracker||(e._valueTracker=i0(e))}function Tf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Pf(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ra(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dl(e,t){var r=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ad(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Of(e,t){t=t.checked,t!=null&&Ku(e,"checked",t,!1)}function $l(e,t){Of(e,t);var r=Jr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fl(e,t.type,Jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function od(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fl(e,t,r){(t!=="number"||Ra(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gs=Array.isArray;function ts(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ld(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(Gs(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jr(r)}}function Af(e,t){var r=Jr(t.value),n=Jr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ud(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Rf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ml(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Rf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xi,If=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a0=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(e){a0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zs[t]=Zs[e]})});function Lf(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zs.hasOwnProperty(e)&&Zs[e]?(""+t).trim():t+"px"}function Df(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Lf(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var o0=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(e,t){if(t){if(o0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function Bl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vl=null;function Yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ql=null,rs=null,ns=null;function cd(e){if(e=Fi(e)){if(typeof ql!="function")throw Error(R(280));var t=e.stateNode;t&&(t=wo(t),ql(e.stateNode,e.type,t))}}function $f(e){rs?ns?ns.push(e):ns=[e]:rs=e}function Ff(){if(rs){var e=rs,t=ns;if(ns=rs=null,cd(e),t)for(e=0;e<t.length;e++)cd(t[e])}}function Uf(e,t){return e(t)}function Mf(){}var Jo=!1;function zf(e,t,r){if(Jo)return e(t,r);Jo=!0;try{return Uf(e,t,r)}finally{Jo=!1,(rs!==null||ns!==null)&&(Mf(),Ff())}}function fi(e,t){var r=e.stateNode;if(r===null)return null;var n=wo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var Wl=!1;if(mr)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Wl=!1}function l0(e,t,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var ei=!1,Ia=null,La=!1,Hl=null,u0={onError:function(e){ei=!0,Ia=e}};function c0(e,t,r,n,s,i,a,o,l){ei=!1,Ia=null,l0.apply(u0,arguments)}function d0(e,t,r,n,s,i,a,o,l){if(c0.apply(this,arguments),ei){if(ei){var c=Ia;ei=!1,Ia=null}else throw Error(R(198));La||(La=!0,Hl=c)}}function Pn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Bf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function dd(e){if(Pn(e)!==e)throw Error(R(188))}function h0(e){var t=e.alternate;if(!t){if(t=Pn(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return dd(s),e;if(i===n)return dd(s),t;i=i.sibling}throw Error(R(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function Vf(e){return e=h0(e),e!==null?qf(e):null}function qf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qf(e);if(t!==null)return t;e=e.sibling}return null}var Wf=wt.unstable_scheduleCallback,hd=wt.unstable_cancelCallback,f0=wt.unstable_shouldYield,p0=wt.unstable_requestPaint,Pe=wt.unstable_now,m0=wt.unstable_getCurrentPriorityLevel,Xu=wt.unstable_ImmediatePriority,Hf=wt.unstable_UserBlockingPriority,Da=wt.unstable_NormalPriority,g0=wt.unstable_LowPriority,Kf=wt.unstable_IdlePriority,mo=null,rr=null;function y0(e){if(rr&&typeof rr.onCommitFiberRoot=="function")try{rr.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:x0,v0=Math.log,w0=Math.LN2;function x0(e){return e>>>=0,e===0?32:31-(v0(e)/w0|0)|0}var Zi=64,ea=4194304;function Js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $a(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Js(o):(i&=a,i!==0&&(n=Js(i)))}else a=r&~s,a!==0?n=Js(a):i!==0&&(n=Js(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Bt(t),s=1<<r,n|=e[r],t&=~s;return n}function _0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Bt(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=_0(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Kl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qf(){var e=Zi;return Zi<<=1,!(Zi&4194240)&&(Zi=64),e}function Yo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Di(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bt(t),e[t]=r}function k0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Bt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Zu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Bt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var he=0;function Gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jf,ec,Yf,Xf,Zf,Ql=!1,ta=[],zr=null,Br=null,Vr=null,pi=new Map,mi=new Map,Pr=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fd(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":pi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mi.delete(t.pointerId)}}function Us(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Fi(t),t!==null&&ec(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function j0(e,t,r,n,s){switch(t){case"focusin":return zr=Us(zr,e,t,r,n,s),!0;case"dragenter":return Br=Us(Br,e,t,r,n,s),!0;case"mouseover":return Vr=Us(Vr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return pi.set(i,Us(pi.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,mi.set(i,Us(mi.get(i)||null,e,t,r,n,s)),!0}return!1}function ep(e){var t=fn(e.target);if(t!==null){var r=Pn(t);if(r!==null){if(t=r.tag,t===13){if(t=Bf(r),t!==null){e.blockedOn=t,Zf(e.priority,function(){Yf(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Vl=n,r.target.dispatchEvent(n),Vl=null}else return t=Fi(r),t!==null&&ec(t),e.blockedOn=r,!1;t.shift()}return!0}function pd(e,t,r){xa(e)&&r.delete(t)}function E0(){Ql=!1,zr!==null&&xa(zr)&&(zr=null),Br!==null&&xa(Br)&&(Br=null),Vr!==null&&xa(Vr)&&(Vr=null),pi.forEach(pd),mi.forEach(pd)}function Ms(e,t){e.blockedOn===t&&(e.blockedOn=null,Ql||(Ql=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,E0)))}function gi(e){function t(s){return Ms(s,e)}if(0<ta.length){Ms(ta[0],e);for(var r=1;r<ta.length;r++){var n=ta[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zr!==null&&Ms(zr,e),Br!==null&&Ms(Br,e),Vr!==null&&Ms(Vr,e),pi.forEach(t),mi.forEach(t),r=0;r<Pr.length;r++)n=Pr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pr.length&&(r=Pr[0],r.blockedOn===null);)ep(r),r.blockedOn===null&&Pr.shift()}var ss=wr.ReactCurrentBatchConfig,Fa=!0;function N0(e,t,r,n){var s=he,i=ss.transition;ss.transition=null;try{he=1,tc(e,t,r,n)}finally{he=s,ss.transition=i}}function C0(e,t,r,n){var s=he,i=ss.transition;ss.transition=null;try{he=4,tc(e,t,r,n)}finally{he=s,ss.transition=i}}function tc(e,t,r,n){if(Fa){var s=Gl(e,t,r,n);if(s===null)ol(e,t,n,Ua,r),fd(e,n);else if(j0(s,e,t,r,n))n.stopPropagation();else if(fd(e,n),t&4&&-1<S0.indexOf(e)){for(;s!==null;){var i=Fi(s);if(i!==null&&Jf(i),i=Gl(e,t,r,n),i===null&&ol(e,t,n,Ua,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ol(e,t,n,null,r)}}var Ua=null;function Gl(e,t,r,n){if(Ua=null,e=Yu(n),e=fn(e),e!==null)if(t=Pn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Bf(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ua=e,null}function tp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m0()){case Xu:return 1;case Hf:return 4;case Da:case g0:return 16;case Kf:return 536870912;default:return 16}default:return 16}}var Fr=null,rc=null,_a=null;function rp(){if(_a)return _a;var e,t=rc,r=t.length,n,s="value"in Fr?Fr.value:Fr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return _a=s.slice(e,1<n?1-n:void 0)}function ba(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ra(){return!0}function md(){return!1}function _t(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ra:md,this.isPropagationStopped=md,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),t}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=_t(js),$i=Se({},js,{view:0,detail:0}),P0=_t($i),Xo,Zo,zs,go=Se({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(Xo=e.screenX-zs.screenX,Zo=e.screenY-zs.screenY):Zo=Xo=0,zs=e),Xo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),gd=_t(go),T0=Se({},go,{dataTransfer:0}),O0=_t(T0),A0=Se({},$i,{relatedTarget:0}),el=_t(A0),R0=Se({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),I0=_t(R0),L0=Se({},js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=_t(L0),$0=Se({},js,{data:0}),yd=_t($0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=M0[e])?!!t[e]:!1}function sc(){return z0}var B0=Se({},$i,{key:function(e){if(e.key){var t=F0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ba(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sc,charCode:function(e){return e.type==="keypress"?ba(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ba(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V0=_t(B0),q0=Se({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vd=_t(q0),W0=Se({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sc}),H0=_t(W0),K0=Se({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q0=_t(K0),G0=Se({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J0=_t(G0),Y0=[9,13,27,32],ic=mr&&"CompositionEvent"in window,ti=null;mr&&"documentMode"in document&&(ti=document.documentMode);var X0=mr&&"TextEvent"in window&&!ti,np=mr&&(!ic||ti&&8<ti&&11>=ti),wd=" ",xd=!1;function sp(e,t){switch(e){case"keyup":return Y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function Z0(e,t){switch(e){case"compositionend":return ip(t);case"keypress":return t.which!==32?null:(xd=!0,wd);case"textInput":return e=t.data,e===wd&&xd?null:e;default:return null}}function ey(e,t){if(qn)return e==="compositionend"||!ic&&sp(e,t)?(e=rp(),_a=rc=Fr=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return np&&t.locale!=="ko"?null:t.data;default:return null}}var ty={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ty[e.type]:t==="textarea"}function ap(e,t,r,n){$f(n),t=Ma(t,"onChange"),0<t.length&&(r=new nc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ri=null,yi=null;function ry(e){yp(e,0)}function yo(e){var t=Kn(e);if(Tf(t))return e}function ny(e,t){if(e==="change")return t}var op=!1;if(mr){var tl;if(mr){var rl="oninput"in document;if(!rl){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),rl=typeof bd.oninput=="function"}tl=rl}else tl=!1;op=tl&&(!document.documentMode||9<document.documentMode)}function kd(){ri&&(ri.detachEvent("onpropertychange",lp),yi=ri=null)}function lp(e){if(e.propertyName==="value"&&yo(yi)){var t=[];ap(t,yi,e,Yu(e)),zf(ry,t)}}function sy(e,t,r){e==="focusin"?(kd(),ri=t,yi=r,ri.attachEvent("onpropertychange",lp)):e==="focusout"&&kd()}function iy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(yi)}function ay(e,t){if(e==="click")return yo(t)}function oy(e,t){if(e==="input"||e==="change")return yo(t)}function ly(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:ly;function vi(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ol.call(t,s)||!qt(e[s],t[s]))return!1}return!0}function Sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var r=Sd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sd(r)}}function up(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?up(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cp(){for(var e=window,t=Ra();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ra(e.document)}return t}function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uy(e){var t=cp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&up(r.ownerDocument.documentElement,r)){if(n!==null&&ac(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=jd(r,i);var a=jd(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cy=mr&&"documentMode"in document&&11>=document.documentMode,Wn=null,Jl=null,ni=null,Yl=!1;function Ed(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yl||Wn==null||Wn!==Ra(n)||(n=Wn,"selectionStart"in n&&ac(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ni&&vi(ni,n)||(ni=n,n=Ma(Jl,"onSelect"),0<n.length&&(t=new nc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wn)))}function na(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hn={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},nl={},dp={};mr&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete Hn.animationend.animation,delete Hn.animationiteration.animation,delete Hn.animationstart.animation),"TransitionEvent"in window||delete Hn.transitionend.transition);function vo(e){if(nl[e])return nl[e];if(!Hn[e])return e;var t=Hn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dp)return nl[e]=t[r];return e}var hp=vo("animationend"),fp=vo("animationiteration"),pp=vo("animationstart"),mp=vo("transitionend"),gp=new Map,Nd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xr(e,t){gp.set(e,t),Cn(t,[e])}for(var sl=0;sl<Nd.length;sl++){var il=Nd[sl],dy=il.toLowerCase(),hy=il[0].toUpperCase()+il.slice(1);Xr(dy,"on"+hy)}Xr(hp,"onAnimationEnd");Xr(fp,"onAnimationIteration");Xr(pp,"onAnimationStart");Xr("dblclick","onDoubleClick");Xr("focusin","onFocus");Xr("focusout","onBlur");Xr(mp,"onTransitionEnd");gs("onMouseEnter",["mouseout","mouseover"]);gs("onMouseLeave",["mouseout","mouseover"]);gs("onPointerEnter",["pointerout","pointerover"]);gs("onPointerLeave",["pointerout","pointerover"]);Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ys));function Cd(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,d0(n,t,void 0,e),e.currentTarget=null}function yp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Cd(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Cd(s,o,c),i=l}}}if(La)throw e=Hl,La=!1,Hl=null,e}function ve(e,t){var r=t[ru];r===void 0&&(r=t[ru]=new Set);var n=e+"__bubble";r.has(n)||(vp(t,e,2,!1),r.add(n))}function al(e,t,r){var n=0;t&&(n|=4),vp(r,e,n,t)}var sa="_reactListening"+Math.random().toString(36).slice(2);function wi(e){if(!e[sa]){e[sa]=!0,jf.forEach(function(r){r!=="selectionchange"&&(fy.has(r)||al(r,!1,e),al(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sa]||(t[sa]=!0,al("selectionchange",!1,t))}}function vp(e,t,r,n){switch(tp(t)){case 1:var s=N0;break;case 4:s=C0;break;default:s=tc}r=s.bind(null,t,r,e),s=void 0,!Wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ol(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=fn(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}zf(function(){var c=i,d=Yu(r),f=[];e:{var h=gp.get(e);if(h!==void 0){var y=nc,w=e;switch(e){case"keypress":if(ba(r)===0)break e;case"keydown":case"keyup":y=V0;break;case"focusin":w="focus",y=el;break;case"focusout":w="blur",y=el;break;case"beforeblur":case"afterblur":y=el;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=H0;break;case hp:case fp:case pp:y=I0;break;case mp:y=Q0;break;case"scroll":y=P0;break;case"wheel":y=J0;break;case"copy":case"cut":case"paste":y=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=vd}var v=(t&4)!==0,_=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var p=c,g;p!==null;){g=p;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=fi(p,m),k!=null&&v.push(xi(p,k,g)))),_)break;p=p.return}0<v.length&&(h=new y(h,w,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&r!==Vl&&(w=r.relatedTarget||r.fromElement)&&(fn(w)||w[gr]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=c,w=w?fn(w):null,w!==null&&(_=Pn(w),w!==_||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(v=gd,k="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=vd,k="onPointerLeave",m="onPointerEnter",p="pointer"),_=y==null?h:Kn(y),g=w==null?h:Kn(w),h=new v(k,p+"leave",y,r,d),h.target=_,h.relatedTarget=g,k=null,fn(d)===c&&(v=new v(m,p+"enter",w,r,d),v.target=g,v.relatedTarget=_,k=v),_=k,y&&w)t:{for(v=y,m=w,p=0,g=v;g;g=Rn(g))p++;for(g=0,k=m;k;k=Rn(k))g++;for(;0<p-g;)v=Rn(v),p--;for(;0<g-p;)m=Rn(m),g--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break t;v=Rn(v),m=Rn(m)}v=null}else v=null;y!==null&&Pd(f,h,y,v,!1),w!==null&&_!==null&&Pd(f,_,w,v,!0)}}e:{if(h=c?Kn(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var b=ny;else if(_d(h))if(op)b=oy;else{b=iy;var E=sy}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=ay);if(b&&(b=b(e,c))){ap(f,b,r,d);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Fl(h,"number",h.value)}switch(E=c?Kn(c):window,e){case"focusin":(_d(E)||E.contentEditable==="true")&&(Wn=E,Jl=c,ni=null);break;case"focusout":ni=Jl=Wn=null;break;case"mousedown":Yl=!0;break;case"contextmenu":case"mouseup":case"dragend":Yl=!1,Ed(f,r,d);break;case"selectionchange":if(cy)break;case"keydown":case"keyup":Ed(f,r,d)}var P;if(ic)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else qn?sp(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(np&&r.locale!=="ko"&&(qn||A!=="onCompositionStart"?A==="onCompositionEnd"&&qn&&(P=rp()):(Fr=d,rc="value"in Fr?Fr.value:Fr.textContent,qn=!0)),E=Ma(c,A),0<E.length&&(A=new yd(A,e,null,r,d),f.push({event:A,listeners:E}),P?A.data=P:(P=ip(r),P!==null&&(A.data=P)))),(P=X0?Z0(e,r):ey(e,r))&&(c=Ma(c,"onBeforeInput"),0<c.length&&(d=new yd("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=P))}yp(f,t)})}function xi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ma(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fi(e,r),i!=null&&n.unshift(xi(e,i,s)),i=fi(e,t),i!=null&&n.push(xi(e,i,s))),e=e.return}return n}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pd(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=fi(r,i),l!=null&&a.unshift(xi(r,l,o))):s||(l=fi(r,i),l!=null&&a.push(xi(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var py=/\r\n?/g,my=/\u0000|\uFFFD/g;function Td(e){return(typeof e=="string"?e:""+e).replace(py,`
`).replace(my,"")}function ia(e,t,r){if(t=Td(t),Td(e)!==t&&r)throw Error(R(425))}function za(){}var Xl=null,Zl=null;function eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tu=typeof setTimeout=="function"?setTimeout:void 0,gy=typeof clearTimeout=="function"?clearTimeout:void 0,Od=typeof Promise=="function"?Promise:void 0,yy=typeof queueMicrotask=="function"?queueMicrotask:typeof Od<"u"?function(e){return Od.resolve(null).then(e).catch(vy)}:tu;function vy(e){setTimeout(function(){throw e})}function ll(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),gi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);gi(t)}function qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ad(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Es=Math.random().toString(36).slice(2),er="__reactFiber$"+Es,_i="__reactProps$"+Es,gr="__reactContainer$"+Es,ru="__reactEvents$"+Es,wy="__reactListeners$"+Es,xy="__reactHandles$"+Es;function fn(e){var t=e[er];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gr]||r[er]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ad(e);e!==null;){if(r=e[er])return r;e=Ad(e)}return t}e=r,r=e.parentNode}return null}function Fi(e){return e=e[er]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function wo(e){return e[_i]||null}var nu=[],Qn=-1;function Zr(e){return{current:e}}function xe(e){0>Qn||(e.current=nu[Qn],nu[Qn]=null,Qn--)}function me(e,t){Qn++,nu[Qn]=e.current,e.current=t}var Yr={},Xe=Zr(Yr),dt=Zr(!1),kn=Yr;function ys(e,t){var r=e.type.contextTypes;if(!r)return Yr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ht(e){return e=e.childContextTypes,e!=null}function Ba(){xe(dt),xe(Xe)}function Rd(e,t,r){if(Xe.current!==Yr)throw Error(R(168));me(Xe,t),me(dt,r)}function wp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(R(108,s0(e)||"Unknown",s));return Se({},r,n)}function Va(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yr,kn=Xe.current,me(Xe,e),me(dt,dt.current),!0}function Id(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=wp(e,t,kn),n.__reactInternalMemoizedMergedChildContext=e,xe(dt),xe(Xe),me(Xe,e)):xe(dt),me(dt,r)}var cr=null,xo=!1,ul=!1;function xp(e){cr===null?cr=[e]:cr.push(e)}function _y(e){xo=!0,xp(e)}function en(){if(!ul&&cr!==null){ul=!0;var e=0,t=he;try{var r=cr;for(he=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}cr=null,xo=!1}catch(s){throw cr!==null&&(cr=cr.slice(e+1)),Wf(Xu,en),s}finally{he=t,ul=!1}}return null}var Gn=[],Jn=0,qa=null,Wa=0,jt=[],Et=0,Sn=null,dr=1,hr="";function ln(e,t){Gn[Jn++]=Wa,Gn[Jn++]=qa,qa=e,Wa=t}function _p(e,t,r){jt[Et++]=dr,jt[Et++]=hr,jt[Et++]=Sn,Sn=e;var n=dr;e=hr;var s=32-Bt(n)-1;n&=~(1<<s),r+=1;var i=32-Bt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,dr=1<<32-Bt(t)+s|r<<s|n,hr=i+e}else dr=1<<i|r<<s|n,hr=e}function oc(e){e.return!==null&&(ln(e,1),_p(e,1,0))}function lc(e){for(;e===qa;)qa=Gn[--Jn],Gn[Jn]=null,Wa=Gn[--Jn],Gn[Jn]=null;for(;e===Sn;)Sn=jt[--Et],jt[Et]=null,hr=jt[--Et],jt[Et]=null,dr=jt[--Et],jt[Et]=null}var vt=null,yt=null,_e=!1,Mt=null;function bp(e,t){var r=Nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ld(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,yt=qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sn!==null?{id:dr,overflow:hr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vt=e,yt=null,!0):!1;default:return!1}}function su(e){return(e.mode&1)!==0&&(e.flags&128)===0}function iu(e){if(_e){var t=yt;if(t){var r=t;if(!Ld(e,t)){if(su(e))throw Error(R(418));t=qr(r.nextSibling);var n=vt;t&&Ld(e,t)?bp(n,r):(e.flags=e.flags&-4097|2,_e=!1,vt=e)}}else{if(su(e))throw Error(R(418));e.flags=e.flags&-4097|2,_e=!1,vt=e}}}function Dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function aa(e){if(e!==vt)return!1;if(!_e)return Dd(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!eu(e.type,e.memoizedProps)),t&&(t=yt)){if(su(e))throw kp(),Error(R(418));for(;t;)bp(e,t),t=qr(t.nextSibling)}if(Dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yt=qr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yt=null}}else yt=vt?qr(e.stateNode.nextSibling):null;return!0}function kp(){for(var e=yt;e;)e=qr(e.nextSibling)}function vs(){yt=vt=null,_e=!1}function uc(e){Mt===null?Mt=[e]:Mt.push(e)}var by=wr.ReactCurrentBatchConfig;function Bs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function oa(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $d(e){var t=e._init;return t(e._payload)}function Sp(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Qr(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function o(m,p,g,k){return p===null||p.tag!==6?(p=gl(g,m.mode,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function l(m,p,g,k){var b=g.type;return b===Vn?d(m,p,g.props.children,k,g.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Er&&$d(b)===p.type)?(k=s(p,g.props),k.ref=Bs(m,p,g),k.return=m,k):(k=Pa(g.type,g.key,g.props,null,m.mode,k),k.ref=Bs(m,p,g),k.return=m,k)}function c(m,p,g,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=yl(g,m.mode,k),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function d(m,p,g,k,b){return p===null||p.tag!==7?(p=bn(g,m.mode,k,b),p.return=m,p):(p=s(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=gl(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ji:return g=Pa(p.type,p.key,p.props,null,m.mode,g),g.ref=Bs(m,null,p),g.return=m,g;case Bn:return p=yl(p,m.mode,g),p.return=m,p;case Er:var k=p._init;return f(m,k(p._payload),g)}if(Gs(p)||$s(p))return p=bn(p,m.mode,g,null),p.return=m,p;oa(m,p)}return null}function h(m,p,g,k){var b=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:o(m,p,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ji:return g.key===b?l(m,p,g,k):null;case Bn:return g.key===b?c(m,p,g,k):null;case Er:return b=g._init,h(m,p,b(g._payload),k)}if(Gs(g)||$s(g))return b!==null?null:d(m,p,g,k,null);oa(m,g)}return null}function y(m,p,g,k,b){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,o(p,m,""+k,b);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ji:return m=m.get(k.key===null?g:k.key)||null,l(p,m,k,b);case Bn:return m=m.get(k.key===null?g:k.key)||null,c(p,m,k,b);case Er:var E=k._init;return y(m,p,g,E(k._payload),b)}if(Gs(k)||$s(k))return m=m.get(g)||null,d(p,m,k,b,null);oa(p,k)}return null}function w(m,p,g,k){for(var b=null,E=null,P=p,A=p=0,G=null;P!==null&&A<g.length;A++){P.index>A?(G=P,P=null):G=P.sibling;var z=h(m,P,g[A],k);if(z===null){P===null&&(P=G);break}e&&P&&z.alternate===null&&t(m,P),p=i(z,p,A),E===null?b=z:E.sibling=z,E=z,P=G}if(A===g.length)return r(m,P),_e&&ln(m,A),b;if(P===null){for(;A<g.length;A++)P=f(m,g[A],k),P!==null&&(p=i(P,p,A),E===null?b=P:E.sibling=P,E=P);return _e&&ln(m,A),b}for(P=n(m,P);A<g.length;A++)G=y(P,m,A,g[A],k),G!==null&&(e&&G.alternate!==null&&P.delete(G.key===null?A:G.key),p=i(G,p,A),E===null?b=G:E.sibling=G,E=G);return e&&P.forEach(function(ue){return t(m,ue)}),_e&&ln(m,A),b}function v(m,p,g,k){var b=$s(g);if(typeof b!="function")throw Error(R(150));if(g=b.call(g),g==null)throw Error(R(151));for(var E=b=null,P=p,A=p=0,G=null,z=g.next();P!==null&&!z.done;A++,z=g.next()){P.index>A?(G=P,P=null):G=P.sibling;var ue=h(m,P,z.value,k);if(ue===null){P===null&&(P=G);break}e&&P&&ue.alternate===null&&t(m,P),p=i(ue,p,A),E===null?b=ue:E.sibling=ue,E=ue,P=G}if(z.done)return r(m,P),_e&&ln(m,A),b;if(P===null){for(;!z.done;A++,z=g.next())z=f(m,z.value,k),z!==null&&(p=i(z,p,A),E===null?b=z:E.sibling=z,E=z);return _e&&ln(m,A),b}for(P=n(m,P);!z.done;A++,z=g.next())z=y(P,m,A,z.value,k),z!==null&&(e&&z.alternate!==null&&P.delete(z.key===null?A:z.key),p=i(z,p,A),E===null?b=z:E.sibling=z,E=z);return e&&P.forEach(function(K){return t(m,K)}),_e&&ln(m,A),b}function _(m,p,g,k){if(typeof g=="object"&&g!==null&&g.type===Vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ji:e:{for(var b=g.key,E=p;E!==null;){if(E.key===b){if(b=g.type,b===Vn){if(E.tag===7){r(m,E.sibling),p=s(E,g.props.children),p.return=m,m=p;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Er&&$d(b)===E.type){r(m,E.sibling),p=s(E,g.props),p.ref=Bs(m,E,g),p.return=m,m=p;break e}r(m,E);break}else t(m,E);E=E.sibling}g.type===Vn?(p=bn(g.props.children,m.mode,k,g.key),p.return=m,m=p):(k=Pa(g.type,g.key,g.props,null,m.mode,k),k.ref=Bs(m,p,g),k.return=m,m=k)}return a(m);case Bn:e:{for(E=g.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=yl(g,m.mode,k),p.return=m,m=p}return a(m);case Er:return E=g._init,_(m,p,E(g._payload),k)}if(Gs(g))return w(m,p,g,k);if($s(g))return v(m,p,g,k);oa(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=gl(g,m.mode,k),p.return=m,m=p),a(m)):r(m,p)}return _}var ws=Sp(!0),jp=Sp(!1),Ha=Zr(null),Ka=null,Yn=null,cc=null;function dc(){cc=Yn=Ka=null}function hc(e){var t=Ha.current;xe(Ha),e._currentValue=t}function au(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function is(e,t){Ka=e,cc=Yn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(cc!==e)if(e={context:e,memoizedValue:t,next:null},Yn===null){if(Ka===null)throw Error(R(308));Yn=e,Ka.dependencies={lanes:0,firstContext:e}}else Yn=Yn.next=e;return t}var pn=null;function fc(e){pn===null?pn=[e]:pn.push(e)}function Ep(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,fc(t)):(r.next=s.next,s.next=r),t.interleaved=r,yr(e,n)}function yr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nr=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Np(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,oe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,yr(e,r)}return s=n.interleaved,s===null?(t.next=t,fc(n)):(t.next=s.next,s.next=t),n.interleaved=t,yr(e,r)}function ka(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zu(e,r)}}function Fd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Qa(e,t,r,n){var s=e.updateQueue;Nr=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,d=c=l=null,o=i;do{var h=o.lane,y=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,v=o;switch(h=t,y=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){f=w.call(y,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,h=typeof w=="function"?w.call(y,f,h):w,h==null)break e;f=Se({},f,h);break e;case 2:Nr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else y={eventTime:y,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=y,l=f):d=d.next=y,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);En|=a,e.lanes=a,e.memoizedState=f}}function Ud(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(R(191,s));s.call(n)}}}var Ui={},nr=Zr(Ui),bi=Zr(Ui),ki=Zr(Ui);function mn(e){if(e===Ui)throw Error(R(174));return e}function mc(e,t){switch(me(ki,t),me(bi,e),me(nr,Ui),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ml(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ml(t,e)}xe(nr),me(nr,t)}function xs(){xe(nr),xe(bi),xe(ki)}function Cp(e){mn(ki.current);var t=mn(nr.current),r=Ml(t,e.type);t!==r&&(me(bi,e),me(nr,r))}function gc(e){bi.current===e&&(xe(nr),xe(bi))}var be=Zr(0);function Ga(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function yc(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var Sa=wr.ReactCurrentDispatcher,dl=wr.ReactCurrentBatchConfig,jn=0,ke=null,De=null,Me=null,Ja=!1,si=!1,Si=0,ky=0;function He(){throw Error(R(321))}function vc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qt(e[r],t[r]))return!1;return!0}function wc(e,t,r,n,s,i){if(jn=i,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sa.current=e===null||e.memoizedState===null?Ny:Cy,e=r(n,s),si){i=0;do{if(si=!1,Si=0,25<=i)throw Error(R(301));i+=1,Me=De=null,t.updateQueue=null,Sa.current=Py,e=r(n,s)}while(si)}if(Sa.current=Ya,t=De!==null&&De.next!==null,jn=0,Me=De=ke=null,Ja=!1,t)throw Error(R(300));return e}function xc(){var e=Si!==0;return Si=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ke.memoizedState=Me=e:Me=Me.next=e,Me}function Ot(){if(De===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Me===null?ke.memoizedState:Me.next;if(t!==null)Me=t,De=e;else{if(e===null)throw Error(R(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Me===null?ke.memoizedState=Me=e:Me=Me.next=e}return Me}function ji(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=Ot(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=De,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((jn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,ke.lanes|=d,En|=d}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,qt(n,t.memoizedState)||(ct=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ke.lanes|=i,En|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function fl(e){var t=Ot(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);qt(i,t.memoizedState)||(ct=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Pp(){}function Tp(e,t){var r=ke,n=Ot(),s=t(),i=!qt(n.memoizedState,s);if(i&&(n.memoizedState=s,ct=!0),n=n.queue,_c(Rp.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Me!==null&&Me.memoizedState.tag&1){if(r.flags|=2048,Ei(9,Ap.bind(null,r,n,s,t),void 0,null),ze===null)throw Error(R(349));jn&30||Op(r,t,s)}return s}function Op(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ap(e,t,r,n){t.value=r,t.getSnapshot=n,Ip(t)&&Lp(e)}function Rp(e,t,r){return r(function(){Ip(t)&&Lp(e)})}function Ip(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qt(e,r)}catch{return!0}}function Lp(e){var t=yr(e,1);t!==null&&Vt(t,e,1,-1)}function Md(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},t.queue=e,e=e.dispatch=Ey.bind(null,ke,e),[t.memoizedState,e]}function Ei(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Dp(){return Ot().memoizedState}function ja(e,t,r,n){var s=Gt();ke.flags|=e,s.memoizedState=Ei(1|t,r,void 0,n===void 0?null:n)}function _o(e,t,r,n){var s=Ot();n=n===void 0?null:n;var i=void 0;if(De!==null){var a=De.memoizedState;if(i=a.destroy,n!==null&&vc(n,a.deps)){s.memoizedState=Ei(t,r,i,n);return}}ke.flags|=e,s.memoizedState=Ei(1|t,r,i,n)}function zd(e,t){return ja(8390656,8,e,t)}function _c(e,t){return _o(2048,8,e,t)}function $p(e,t){return _o(4,2,e,t)}function Fp(e,t){return _o(4,4,e,t)}function Up(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mp(e,t,r){return r=r!=null?r.concat([e]):null,_o(4,4,Up.bind(null,t,e),r)}function bc(){}function zp(e,t){var r=Ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Bp(e,t){var r=Ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Vp(e,t,r){return jn&21?(qt(r,t)||(r=Qf(),ke.lanes|=r,En|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=r)}function Sy(e,t){var r=he;he=r!==0&&4>r?r:4,e(!0);var n=dl.transition;dl.transition={};try{e(!1),t()}finally{he=r,dl.transition=n}}function qp(){return Ot().memoizedState}function jy(e,t,r){var n=Kr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wp(e))Hp(t,r);else if(r=Ep(e,t,r,n),r!==null){var s=nt();Vt(r,e,n,s),Kp(r,t,n)}}function Ey(e,t,r){var n=Kr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wp(e))Hp(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,qt(o,a)){var l=t.interleaved;l===null?(s.next=s,fc(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Ep(e,t,s,n),r!==null&&(s=nt(),Vt(r,e,n,s),Kp(r,t,n))}}function Wp(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Hp(e,t){si=Ja=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zu(e,r)}}var Ya={readContext:Tt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Ny={readContext:Tt,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:zd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ja(4194308,4,Up.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var r=Gt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Gt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jy.bind(null,ke,e),[n.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Md,useDebugValue:bc,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Md(!1),t=e[0];return e=Sy.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ke,s=Gt();if(_e){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),ze===null)throw Error(R(349));jn&30||Op(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,zd(Rp.bind(null,n,i,e),[e]),n.flags|=2048,Ei(9,Ap.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Gt(),t=ze.identifierPrefix;if(_e){var r=hr,n=dr;r=(n&~(1<<32-Bt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Si++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ky++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cy={readContext:Tt,useCallback:zp,useContext:Tt,useEffect:_c,useImperativeHandle:Mp,useInsertionEffect:$p,useLayoutEffect:Fp,useMemo:Bp,useReducer:hl,useRef:Dp,useState:function(){return hl(ji)},useDebugValue:bc,useDeferredValue:function(e){var t=Ot();return Vp(t,De.memoizedState,e)},useTransition:function(){var e=hl(ji)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Pp,useSyncExternalStore:Tp,useId:qp,unstable_isNewReconciler:!1},Py={readContext:Tt,useCallback:zp,useContext:Tt,useEffect:_c,useImperativeHandle:Mp,useInsertionEffect:$p,useLayoutEffect:Fp,useMemo:Bp,useReducer:fl,useRef:Dp,useState:function(){return fl(ji)},useDebugValue:bc,useDeferredValue:function(e){var t=Ot();return De===null?t.memoizedState=e:Vp(t,De.memoizedState,e)},useTransition:function(){var e=fl(ji)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Pp,useSyncExternalStore:Tp,useId:qp,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ou(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bo={isMounted:function(e){return(e=e._reactInternals)?Pn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=nt(),s=Kr(e),i=pr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Wr(e,i,s),t!==null&&(Vt(t,e,s,n),ka(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=nt(),s=Kr(e),i=pr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Wr(e,i,s),t!==null&&(Vt(t,e,s,n),ka(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nt(),n=Kr(e),s=pr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Wr(e,s,n),t!==null&&(Vt(t,e,n,r),ka(t,e,n))}};function Bd(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!vi(r,n)||!vi(s,i):!0}function Qp(e,t,r){var n=!1,s=Yr,i=t.contextType;return typeof i=="object"&&i!==null?i=Tt(i):(s=ht(t)?kn:Xe.current,n=t.contextTypes,i=(n=n!=null)?ys(e,s):Yr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Vd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function lu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},pc(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Tt(i):(i=ht(t)?kn:Xe.current,s.context=ys(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ou(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&bo.enqueueReplaceState(s,s.state,null),Qa(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function _s(e,t){try{var r="",n=t;do r+=n0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function pl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ty=typeof WeakMap=="function"?WeakMap:Map;function Gp(e,t,r){r=pr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Za||(Za=!0,wu=n),uu(e,t)},r}function Jp(e,t,r){r=pr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){uu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){uu(e,t),typeof n!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function qd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ty;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=qy.bind(null,e,t,r),t.then(e,e))}function Wd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hd(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pr(-1,1),t.tag=2,Wr(r,t,1))),r.lanes|=1),e)}var Oy=wr.ReactCurrentOwner,ct=!1;function et(e,t,r,n){t.child=e===null?jp(t,null,r,n):ws(t,e.child,r,n)}function Kd(e,t,r,n,s){r=r.render;var i=t.ref;return is(t,s),n=wc(e,t,r,n,i,s),r=xc(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(_e&&r&&oc(t),t.flags|=1,et(e,t,n,s),t.child)}function Qd(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Tc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Yp(e,t,i,n,s)):(e=Pa(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:vi,r(a,n)&&e.ref===t.ref)return vr(e,t,s)}return t.flags|=1,e=Qr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Yp(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(vi(i,n)&&e.ref===t.ref)if(ct=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,vr(e,t,s)}return cu(e,t,r,n,s)}function Xp(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Zn,gt),gt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Zn,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,me(Zn,gt),gt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,me(Zn,gt),gt|=n;return et(e,t,s,r),t.child}function Zp(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cu(e,t,r,n,s){var i=ht(r)?kn:Xe.current;return i=ys(t,i),is(t,s),r=wc(e,t,r,n,i,s),n=xc(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vr(e,t,s)):(_e&&n&&oc(t),t.flags|=1,et(e,t,r,s),t.child)}function Gd(e,t,r,n,s){if(ht(r)){var i=!0;Va(t)}else i=!1;if(is(t,s),t.stateNode===null)Ea(e,t),Qp(t,r,n),lu(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Tt(c):(c=ht(r)?kn:Xe.current,c=ys(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Vd(t,a,n,c),Nr=!1;var h=t.memoizedState;a.state=h,Qa(t,n,a,s),l=t.memoizedState,o!==n||h!==l||dt.current||Nr?(typeof d=="function"&&(ou(t,r,d,n),l=t.memoizedState),(o=Nr||Bd(t,r,o,n,h,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Np(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Lt(t.type,o),a.props=c,f=t.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Tt(l):(l=ht(r)?kn:Xe.current,l=ys(t,l));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&Vd(t,a,n,l),Nr=!1,h=t.memoizedState,a.state=h,Qa(t,n,a,s);var w=t.memoizedState;o!==f||h!==w||dt.current||Nr?(typeof y=="function"&&(ou(t,r,y,n),w=t.memoizedState),(c=Nr||Bd(t,r,c,n,h,w,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return du(e,t,r,n,i,s)}function du(e,t,r,n,s,i){Zp(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Id(t,r,!1),vr(e,t,i);n=t.stateNode,Oy.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ws(t,e.child,null,i),t.child=ws(t,null,o,i)):et(e,t,o,i),t.memoizedState=n.state,s&&Id(t,r,!0),t.child}function em(e){var t=e.stateNode;t.pendingContext?Rd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Rd(e,t.context,!1),mc(e,t.containerInfo)}function Jd(e,t,r,n,s){return vs(),uc(s),t.flags|=256,et(e,t,r,n),t.child}var hu={dehydrated:null,treeContext:null,retryLane:0};function fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function tm(e,t,r){var n=t.pendingProps,s=be.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(be,s&1),e===null)return iu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=jo(a,n,0,null),e=bn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fu(r),t.memoizedState=hu,e):kc(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return Ay(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Qr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Qr(o,i):(i=bn(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?fu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=hu,n}return i=e.child,e=i.sibling,n=Qr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kc(e,t){return t=jo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function la(e,t,r,n){return n!==null&&uc(n),ws(t,e.child,null,r),e=kc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ay(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=pl(Error(R(422))),la(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=jo({mode:"visible",children:n.children},s,0,null),i=bn(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ws(t,e.child,null,a),t.child.memoizedState=fu(a),t.memoizedState=hu,i);if(!(t.mode&1))return la(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(R(419)),n=pl(i,n,void 0),la(e,t,a,n)}if(o=(a&e.childLanes)!==0,ct||o){if(n=ze,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,yr(e,s),Vt(n,e,s,-1))}return Pc(),n=pl(Error(R(421))),la(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Wy.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,yt=qr(s.nextSibling),vt=t,_e=!0,Mt=null,e!==null&&(jt[Et++]=dr,jt[Et++]=hr,jt[Et++]=Sn,dr=e.id,hr=e.overflow,Sn=t),t=kc(t,n.children),t.flags|=4096,t)}function Yd(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),au(e.return,t,r)}function ml(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function rm(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(et(e,t,n.children,r),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yd(e,r,t);else if(e.tag===19)Yd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(me(be,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ga(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ml(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ga(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ml(t,!0,r,null,i);break;case"together":ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=Qr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Ry(e,t,r){switch(t.tag){case 3:em(t),vs();break;case 5:Cp(t);break;case 1:ht(t.type)&&Va(t);break;case 4:mc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;me(Ha,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(me(be,be.current&1),t.flags|=128,null):r&t.child.childLanes?tm(e,t,r):(me(be,be.current&1),e=vr(e,t,r),e!==null?e.sibling:null);me(be,be.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return rm(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,Xp(e,t,r)}return vr(e,t,r)}var nm,pu,sm,im;nm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};pu=function(){};sm=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,mn(nr.current);var i=null;switch(r){case"input":s=Dl(e,s),n=Dl(e,n),i=[];break;case"select":s=Se({},s,{value:void 0}),n=Se({},n,{value:void 0}),i=[];break;case"textarea":s=Ul(e,s),n=Ul(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=za)}zl(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(di.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(di.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ve("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};im=function(e,t,r,n){r!==n&&(t.flags|=4)};function Vs(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Iy(e,t,r){var n=t.pendingProps;switch(lc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return ht(t.type)&&Ba(),Ke(t),null;case 3:return n=t.stateNode,xs(),xe(dt),xe(Xe),yc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(bu(Mt),Mt=null))),pu(e,t),Ke(t),null;case 5:gc(t);var s=mn(ki.current);if(r=t.type,e!==null&&t.stateNode!=null)sm(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return Ke(t),null}if(e=mn(nr.current),aa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[er]=t,n[_i]=i,e=(t.mode&1)!==0,r){case"dialog":ve("cancel",n),ve("close",n);break;case"iframe":case"object":case"embed":ve("load",n);break;case"video":case"audio":for(s=0;s<Ys.length;s++)ve(Ys[s],n);break;case"source":ve("error",n);break;case"img":case"image":case"link":ve("error",n),ve("load",n);break;case"details":ve("toggle",n);break;case"input":ad(n,i),ve("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ve("invalid",n);break;case"textarea":ld(n,i),ve("invalid",n)}zl(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ia(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ia(n.textContent,o,e),s=["children",""+o]):di.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ve("scroll",n)}switch(r){case"input":Yi(n),od(n,i,!0);break;case"textarea":Yi(n),ud(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=za)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Rf(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[er]=t,e[_i]=n,nm(e,t,!1,!1),t.stateNode=e;e:{switch(a=Bl(r,n),r){case"dialog":ve("cancel",e),ve("close",e),s=n;break;case"iframe":case"object":case"embed":ve("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ys.length;s++)ve(Ys[s],e);s=n;break;case"source":ve("error",e),s=n;break;case"img":case"image":case"link":ve("error",e),ve("load",e),s=n;break;case"details":ve("toggle",e),s=n;break;case"input":ad(e,n),s=Dl(e,n),ve("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Se({},n,{value:void 0}),ve("invalid",e);break;case"textarea":ld(e,n),s=Ul(e,n),ve("invalid",e);break;default:s=n}zl(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Df(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&If(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hi(e,l):typeof l=="number"&&hi(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(di.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",e):l!=null&&Ku(e,i,l,a))}switch(r){case"input":Yi(e),od(e,n,!1);break;case"textarea":Yi(e),ud(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ts(e,!!n.multiple,i,!1):n.defaultValue!=null&&ts(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=za)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)im(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=mn(ki.current),mn(nr.current),aa(t)){if(n=t.stateNode,r=t.memoizedProps,n[er]=t,(i=n.nodeValue!==r)&&(e=vt,e!==null))switch(e.tag){case 3:ia(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ia(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[er]=t,t.stateNode=n}return Ke(t),null;case 13:if(xe(be),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&yt!==null&&t.mode&1&&!(t.flags&128))kp(),vs(),t.flags|=98560,i=!1;else if(i=aa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(R(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(R(317));i[er]=t}else vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),i=!1}else Mt!==null&&(bu(Mt),Mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?$e===0&&($e=3):Pc())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return xs(),pu(e,t),e===null&&wi(t.stateNode.containerInfo),Ke(t),null;case 10:return hc(t.type._context),Ke(t),null;case 17:return ht(t.type)&&Ba(),Ke(t),null;case 19:if(xe(be),i=t.memoizedState,i===null)return Ke(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Vs(i,!1);else{if($e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ga(e),a!==null){for(t.flags|=128,Vs(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return me(be,be.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>bs&&(t.flags|=128,n=!0,Vs(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ga(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Vs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!_e)return Ke(t),null}else 2*Pe()-i.renderingStartTime>bs&&r!==1073741824&&(t.flags|=128,n=!0,Vs(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,r=be.current,me(be,n?r&1|2:r&1),t):(Ke(t),null);case 22:case 23:return Cc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gt&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function Ly(e,t){switch(lc(t),t.tag){case 1:return ht(t.type)&&Ba(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),xe(dt),xe(Xe),yc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gc(t),null;case 13:if(xe(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(be),null;case 4:return xs(),null;case 10:return hc(t.type._context),null;case 22:case 23:return Cc(),null;case 24:return null;default:return null}}var ua=!1,Ye=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,F=null;function Xn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ne(e,t,n)}else r.current=null}function mu(e,t,r){try{r()}catch(n){Ne(e,t,n)}}var Xd=!1;function $y(e,t){if(Xl=Fa,e=cp(),ac(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===e)break t;if(h===r&&++c===s&&(o=a),h===i&&++d===n&&(l=a),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zl={focusedElem:e,selectionRange:r},Fa=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,_=w.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Lt(t.type,v),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(k){Ne(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return w=Xd,Xd=!1,w}function ii(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mu(t,r,i)}s=s.next}while(s!==n)}}function ko(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function am(e){var t=e.alternate;t!==null&&(e.alternate=null,am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[_i],delete t[ru],delete t[wy],delete t[xy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function om(e){return e.tag===5||e.tag===3||e.tag===4}function Zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||om(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=za));else if(n!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}function vu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vu(e,t,r),e=e.sibling;e!==null;)vu(e,t,r),e=e.sibling}var Be=null,Ft=!1;function br(e,t,r){for(r=r.child;r!==null;)lm(e,t,r),r=r.sibling}function lm(e,t,r){if(rr&&typeof rr.onCommitFiberUnmount=="function")try{rr.onCommitFiberUnmount(mo,r)}catch{}switch(r.tag){case 5:Ye||Xn(r,t);case 6:var n=Be,s=Ft;Be=null,br(e,t,r),Be=n,Ft=s,Be!==null&&(Ft?(e=Be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&(Ft?(e=Be,r=r.stateNode,e.nodeType===8?ll(e.parentNode,r):e.nodeType===1&&ll(e,r),gi(e)):ll(Be,r.stateNode));break;case 4:n=Be,s=Ft,Be=r.stateNode.containerInfo,Ft=!0,br(e,t,r),Be=n,Ft=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&mu(r,t,a),s=s.next}while(s!==n)}br(e,t,r);break;case 1:if(!Ye&&(Xn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ne(r,t,o)}br(e,t,r);break;case 21:br(e,t,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,br(e,t,r),Ye=n):br(e,t,r);break;default:br(e,t,r)}}function eh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Dy),t.forEach(function(n){var s=Hy.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Rt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Be=o.stateNode,Ft=!1;break e;case 3:Be=o.stateNode.containerInfo,Ft=!0;break e;case 4:Be=o.stateNode.containerInfo,Ft=!0;break e}o=o.return}if(Be===null)throw Error(R(160));lm(i,a,s),Be=null,Ft=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ne(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)um(t,e),t=t.sibling}function um(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Qt(e),n&4){try{ii(3,e,e.return),ko(3,e)}catch(v){Ne(e,e.return,v)}try{ii(5,e,e.return)}catch(v){Ne(e,e.return,v)}}break;case 1:Rt(t,e),Qt(e),n&512&&r!==null&&Xn(r,r.return);break;case 5:if(Rt(t,e),Qt(e),n&512&&r!==null&&Xn(r,r.return),e.flags&32){var s=e.stateNode;try{hi(s,"")}catch(v){Ne(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Of(s,i),Bl(o,a);var c=Bl(o,i);for(a=0;a<l.length;a+=2){var d=l[a],f=l[a+1];d==="style"?Df(s,f):d==="dangerouslySetInnerHTML"?If(s,f):d==="children"?hi(s,f):Ku(s,d,f,c)}switch(o){case"input":$l(s,i);break;case"textarea":Af(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ts(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?ts(s,!!i.multiple,i.defaultValue,!0):ts(s,!!i.multiple,i.multiple?[]:"",!1))}s[_i]=i}catch(v){Ne(e,e.return,v)}}break;case 6:if(Rt(t,e),Qt(e),n&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){Ne(e,e.return,v)}}break;case 3:if(Rt(t,e),Qt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gi(t.containerInfo)}catch(v){Ne(e,e.return,v)}break;case 4:Rt(t,e),Qt(e);break;case 13:Rt(t,e),Qt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ec=Pe())),n&4&&eh(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(c=Ye)||d,Rt(t,e),Ye=c):Rt(t,e),Qt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(F=e,d=e.child;d!==null;){for(f=F=d;F!==null;){switch(h=F,y=h.child,h.tag){case 0:case 11:case 14:case 15:ii(4,h,h.return);break;case 1:Xn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Ne(n,r,v)}}break;case 5:Xn(h,h.return);break;case 22:if(h.memoizedState!==null){rh(f);continue}}y!==null?(y.return=h,F=y):rh(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Lf("display",a))}catch(v){Ne(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Ne(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rt(t,e),Qt(e),n&4&&eh(e);break;case 21:break;default:Rt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(om(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(hi(s,""),n.flags&=-33);var i=Zd(e);vu(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Zd(e);yu(e,o,a);break;default:throw Error(R(161))}}catch(l){Ne(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fy(e,t,r){F=e,cm(e)}function cm(e,t,r){for(var n=(e.mode&1)!==0;F!==null;){var s=F,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||ua;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Ye;o=ua;var c=Ye;if(ua=a,(Ye=l)&&!c)for(F=s;F!==null;)a=F,l=a.child,a.tag===22&&a.memoizedState!==null?nh(s):l!==null?(l.return=a,F=l):nh(s);for(;i!==null;)F=i,cm(i),i=i.sibling;F=s,ua=o,Ye=c}th(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,F=i):th(e)}}function th(e){for(;F!==null;){var t=F;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||ko(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Lt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ud(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ud(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&gi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ye||t.flags&512&&gu(t)}catch(h){Ne(t,t.return,h)}}if(t===e){F=null;break}if(r=t.sibling,r!==null){r.return=t.return,F=r;break}F=t.return}}function rh(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var r=t.sibling;if(r!==null){r.return=t.return,F=r;break}F=t.return}}function nh(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ko(4,t)}catch(l){Ne(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){Ne(t,s,l)}}var i=t.return;try{gu(t)}catch(l){Ne(t,i,l)}break;case 5:var a=t.return;try{gu(t)}catch(l){Ne(t,a,l)}}}catch(l){Ne(t,t.return,l)}if(t===e){F=null;break}var o=t.sibling;if(o!==null){o.return=t.return,F=o;break}F=t.return}}var Uy=Math.ceil,Xa=wr.ReactCurrentDispatcher,Sc=wr.ReactCurrentOwner,Ct=wr.ReactCurrentBatchConfig,oe=0,ze=null,Re=null,Ve=0,gt=0,Zn=Zr(0),$e=0,Ni=null,En=0,So=0,jc=0,ai=null,lt=null,Ec=0,bs=1/0,lr=null,Za=!1,wu=null,Hr=null,ca=!1,Ur=null,eo=0,oi=0,xu=null,Na=-1,Ca=0;function nt(){return oe&6?Pe():Na!==-1?Na:Na=Pe()}function Kr(e){return e.mode&1?oe&2&&Ve!==0?Ve&-Ve:by.transition!==null?(Ca===0&&(Ca=Qf()),Ca):(e=he,e!==0||(e=window.event,e=e===void 0?16:tp(e.type)),e):1}function Vt(e,t,r,n){if(50<oi)throw oi=0,xu=null,Error(R(185));Di(e,r,n),(!(oe&2)||e!==ze)&&(e===ze&&(!(oe&2)&&(So|=r),$e===4&&Tr(e,Ve)),ft(e,n),r===1&&oe===0&&!(t.mode&1)&&(bs=Pe()+500,xo&&en()))}function ft(e,t){var r=e.callbackNode;b0(e,t);var n=$a(e,e===ze?Ve:0);if(n===0)r!==null&&hd(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&hd(r),t===1)e.tag===0?_y(sh.bind(null,e)):xp(sh.bind(null,e)),yy(function(){!(oe&6)&&en()}),r=null;else{switch(Gf(n)){case 1:r=Xu;break;case 4:r=Hf;break;case 16:r=Da;break;case 536870912:r=Kf;break;default:r=Da}r=vm(r,dm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function dm(e,t){if(Na=-1,Ca=0,oe&6)throw Error(R(327));var r=e.callbackNode;if(as()&&e.callbackNode!==r)return null;var n=$a(e,e===ze?Ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=to(e,n);else{t=n;var s=oe;oe|=2;var i=fm();(ze!==e||Ve!==t)&&(lr=null,bs=Pe()+500,_n(e,t));do try{By();break}catch(o){hm(e,o)}while(!0);dc(),Xa.current=i,oe=s,Re!==null?t=0:(ze=null,Ve=0,t=$e)}if(t!==0){if(t===2&&(s=Kl(e),s!==0&&(n=s,t=_u(e,s))),t===1)throw r=Ni,_n(e,0),Tr(e,n),ft(e,Pe()),r;if(t===6)Tr(e,n);else{if(s=e.current.alternate,!(n&30)&&!My(s)&&(t=to(e,n),t===2&&(i=Kl(e),i!==0&&(n=i,t=_u(e,i))),t===1))throw r=Ni,_n(e,0),Tr(e,n),ft(e,Pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:un(e,lt,lr);break;case 3:if(Tr(e,n),(n&130023424)===n&&(t=Ec+500-Pe(),10<t)){if($a(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tu(un.bind(null,e,lt,lr),t);break}un(e,lt,lr);break;case 4:if(Tr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Bt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Uy(n/1960))-n,10<n){e.timeoutHandle=tu(un.bind(null,e,lt,lr),n);break}un(e,lt,lr);break;case 5:un(e,lt,lr);break;default:throw Error(R(329))}}}return ft(e,Pe()),e.callbackNode===r?dm.bind(null,e):null}function _u(e,t){var r=ai;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=to(e,t),e!==2&&(t=lt,lt=r,t!==null&&bu(t)),e}function bu(e){lt===null?lt=e:lt.push.apply(lt,e)}function My(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!qt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~jc,t&=~So,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Bt(t),n=1<<r;e[r]=-1,t&=~n}}function sh(e){if(oe&6)throw Error(R(327));as();var t=$a(e,0);if(!(t&1))return ft(e,Pe()),null;var r=to(e,t);if(e.tag!==0&&r===2){var n=Kl(e);n!==0&&(t=n,r=_u(e,n))}if(r===1)throw r=Ni,_n(e,0),Tr(e,t),ft(e,Pe()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,un(e,lt,lr),ft(e,Pe()),null}function Nc(e,t){var r=oe;oe|=1;try{return e(t)}finally{oe=r,oe===0&&(bs=Pe()+500,xo&&en())}}function Nn(e){Ur!==null&&Ur.tag===0&&!(oe&6)&&as();var t=oe;oe|=1;var r=Ct.transition,n=he;try{if(Ct.transition=null,he=1,e)return e()}finally{he=n,Ct.transition=r,oe=t,!(oe&6)&&en()}}function Cc(){gt=Zn.current,xe(Zn)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gy(r)),Re!==null)for(r=Re.return;r!==null;){var n=r;switch(lc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ba();break;case 3:xs(),xe(dt),xe(Xe),yc();break;case 5:gc(n);break;case 4:xs();break;case 13:xe(be);break;case 19:xe(be);break;case 10:hc(n.type._context);break;case 22:case 23:Cc()}r=r.return}if(ze=e,Re=e=Qr(e.current,null),Ve=gt=t,$e=0,Ni=null,jc=So=En=0,lt=ai=null,pn!==null){for(t=0;t<pn.length;t++)if(r=pn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}pn=null}return e}function hm(e,t){do{var r=Re;try{if(dc(),Sa.current=Ya,Ja){for(var n=ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ja=!1}if(jn=0,Me=De=ke=null,si=!1,Si=0,Sc.current=null,r===null||r.return===null){$e=1,Ni=t,Re=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=Ve,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Wd(a);if(y!==null){y.flags&=-257,Hd(y,a,o,i,t),y.mode&1&&qd(i,c,t),t=y,l=c;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){qd(i,c,t),Pc();break e}l=Error(R(426))}}else if(_e&&o.mode&1){var _=Wd(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Hd(_,a,o,i,t),uc(_s(l,o));break e}}i=l=_s(l,o),$e!==4&&($e=2),ai===null?ai=[i]:ai.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Gp(i,l,t);Fd(i,m);break e;case 1:o=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hr===null||!Hr.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Jp(i,o,t);Fd(i,k);break e}}i=i.return}while(i!==null)}mm(r)}catch(b){t=b,Re===r&&r!==null&&(Re=r=r.return);continue}break}while(!0)}function fm(){var e=Xa.current;return Xa.current=Ya,e===null?Ya:e}function Pc(){($e===0||$e===3||$e===2)&&($e=4),ze===null||!(En&268435455)&&!(So&268435455)||Tr(ze,Ve)}function to(e,t){var r=oe;oe|=2;var n=fm();(ze!==e||Ve!==t)&&(lr=null,_n(e,t));do try{zy();break}catch(s){hm(e,s)}while(!0);if(dc(),oe=r,Xa.current=n,Re!==null)throw Error(R(261));return ze=null,Ve=0,$e}function zy(){for(;Re!==null;)pm(Re)}function By(){for(;Re!==null&&!f0();)pm(Re)}function pm(e){var t=ym(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?mm(e):Re=t,Sc.current=null}function mm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Ly(r,t),r!==null){r.flags&=32767,Re=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$e=6,Re=null;return}}else if(r=Iy(r,t,gt),r!==null){Re=r;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);$e===0&&($e=5)}function un(e,t,r){var n=he,s=Ct.transition;try{Ct.transition=null,he=1,Vy(e,t,r,n)}finally{Ct.transition=s,he=n}return null}function Vy(e,t,r,n){do as();while(Ur!==null);if(oe&6)throw Error(R(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(k0(e,i),e===ze&&(Re=ze=null,Ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ca||(ca=!0,vm(Da,function(){return as(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var a=he;he=1;var o=oe;oe|=4,Sc.current=null,$y(e,r),um(r,e),uy(Zl),Fa=!!Xl,Zl=Xl=null,e.current=r,Fy(r),p0(),oe=o,he=a,Ct.transition=i}else e.current=r;if(ca&&(ca=!1,Ur=e,eo=s),i=e.pendingLanes,i===0&&(Hr=null),y0(r.stateNode),ft(e,Pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Za)throw Za=!1,e=wu,wu=null,e;return eo&1&&e.tag!==0&&as(),i=e.pendingLanes,i&1?e===xu?oi++:(oi=0,xu=e):oi=0,en(),null}function as(){if(Ur!==null){var e=Gf(eo),t=Ct.transition,r=he;try{if(Ct.transition=null,he=16>e?16:e,Ur===null)var n=!1;else{if(e=Ur,Ur=null,eo=0,oe&6)throw Error(R(331));var s=oe;for(oe|=4,F=e.current;F!==null;){var i=F,a=i.child;if(F.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(F=c;F!==null;){var d=F;switch(d.tag){case 0:case 11:case 15:ii(8,d,i)}var f=d.child;if(f!==null)f.return=d,F=f;else for(;F!==null;){d=F;var h=d.sibling,y=d.return;if(am(d),d===c){F=null;break}if(h!==null){h.return=y,F=h;break}F=y}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}F=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,F=a;else e:for(;F!==null;){if(i=F,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ii(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,F=m;break e}F=i.return}}var p=e.current;for(F=p;F!==null;){a=F;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,F=g;else e:for(a=p;F!==null;){if(o=F,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ko(9,o)}}catch(b){Ne(o,o.return,b)}if(o===a){F=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,F=k;break e}F=o.return}}if(oe=s,en(),rr&&typeof rr.onPostCommitFiberRoot=="function")try{rr.onPostCommitFiberRoot(mo,e)}catch{}n=!0}return n}finally{he=r,Ct.transition=t}}return!1}function ih(e,t,r){t=_s(r,t),t=Gp(e,t,1),e=Wr(e,t,1),t=nt(),e!==null&&(Di(e,1,t),ft(e,t))}function Ne(e,t,r){if(e.tag===3)ih(e,e,r);else for(;t!==null;){if(t.tag===3){ih(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hr===null||!Hr.has(n))){e=_s(r,e),e=Jp(t,e,1),t=Wr(t,e,1),e=nt(),t!==null&&(Di(t,1,e),ft(t,e));break}}t=t.return}}function qy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&r,ze===e&&(Ve&r)===r&&($e===4||$e===3&&(Ve&130023424)===Ve&&500>Pe()-Ec?_n(e,0):jc|=r),ft(e,t)}function gm(e,t){t===0&&(e.mode&1?(t=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):t=1);var r=nt();e=yr(e,t),e!==null&&(Di(e,t,r),ft(e,r))}function Wy(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),gm(e,r)}function Hy(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),gm(e,r)}var ym;ym=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||dt.current)ct=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ct=!1,Ry(e,t,r);ct=!!(e.flags&131072)}else ct=!1,_e&&t.flags&1048576&&_p(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ea(e,t),e=t.pendingProps;var s=ys(t,Xe.current);is(t,r),s=wc(null,t,n,e,s,r);var i=xc();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(n)?(i=!0,Va(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pc(t),s.updater=bo,t.stateNode=s,s._reactInternals=t,lu(t,n,e,r),t=du(null,t,n,!0,i,r)):(t.tag=0,_e&&i&&oc(t),et(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ea(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Qy(n),e=Lt(n,e),s){case 0:t=cu(null,t,n,e,r);break e;case 1:t=Gd(null,t,n,e,r);break e;case 11:t=Kd(null,t,n,e,r);break e;case 14:t=Qd(null,t,n,Lt(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Lt(n,s),cu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Lt(n,s),Gd(e,t,n,s,r);case 3:e:{if(em(t),e===null)throw Error(R(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Np(e,t),Qa(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=_s(Error(R(423)),t),t=Jd(e,t,n,r,s);break e}else if(n!==s){s=_s(Error(R(424)),t),t=Jd(e,t,n,r,s);break e}else for(yt=qr(t.stateNode.containerInfo.firstChild),vt=t,_e=!0,Mt=null,r=jp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(vs(),n===s){t=vr(e,t,r);break e}et(e,t,n,r)}t=t.child}return t;case 5:return Cp(t),e===null&&iu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,eu(n,s)?a=null:i!==null&&eu(n,i)&&(t.flags|=32),Zp(e,t),et(e,t,a,r),t.child;case 6:return e===null&&iu(t),null;case 13:return tm(e,t,r);case 4:return mc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ws(t,null,n,r):et(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Lt(n,s),Kd(e,t,n,s,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,me(Ha,n._currentValue),n._currentValue=a,i!==null)if(qt(i.value,a)){if(i.children===s.children&&!dt.current){t=vr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=pr(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),au(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(R(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),au(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}et(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,is(t,r),s=Tt(s),n=n(s),t.flags|=1,et(e,t,n,r),t.child;case 14:return n=t.type,s=Lt(n,t.pendingProps),s=Lt(n.type,s),Qd(e,t,n,s,r);case 15:return Yp(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Lt(n,s),Ea(e,t),t.tag=1,ht(n)?(e=!0,Va(t)):e=!1,is(t,r),Qp(t,n,s),lu(t,n,s,r),du(null,t,n,!0,e,r);case 19:return rm(e,t,r);case 22:return Xp(e,t,r)}throw Error(R(156,t.tag))};function vm(e,t){return Wf(e,t)}function Ky(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,r,n){return new Ky(e,t,r,n)}function Tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qy(e){if(typeof e=="function")return Tc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Gu)return 11;if(e===Ju)return 14}return 2}function Qr(e,t){var r=e.alternate;return r===null?(r=Nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pa(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Tc(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Vn:return bn(r.children,s,i,t);case Qu:a=8,s|=8;break;case Al:return e=Nt(12,r,t,s|2),e.elementType=Al,e.lanes=i,e;case Rl:return e=Nt(13,r,t,s),e.elementType=Rl,e.lanes=i,e;case Il:return e=Nt(19,r,t,s),e.elementType=Il,e.lanes=i,e;case Cf:return jo(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ef:a=10;break e;case Nf:a=9;break e;case Gu:a=11;break e;case Ju:a=14;break e;case Er:a=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Nt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function bn(e,t,r,n){return e=Nt(7,e,n,t),e.lanes=r,e}function jo(e,t,r,n){return e=Nt(22,e,n,t),e.elementType=Cf,e.lanes=r,e.stateNode={isHidden:!1},e}function gl(e,t,r){return e=Nt(6,e,null,t),e.lanes=r,e}function yl(e,t,r){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gy(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yo(0),this.expirationTimes=Yo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Oc(e,t,r,n,s,i,a,o,l){return e=new Gy(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(i),e}function Jy(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wm(e){if(!e)return Yr;e=e._reactInternals;e:{if(Pn(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(ht(r))return wp(e,r,t)}return t}function xm(e,t,r,n,s,i,a,o,l){return e=Oc(r,n,!0,e,s,i,a,o,l),e.context=wm(null),r=e.current,n=nt(),s=Kr(r),i=pr(n,s),i.callback=t??null,Wr(r,i,s),e.current.lanes=s,Di(e,s,n),ft(e,n),e}function Eo(e,t,r,n){var s=t.current,i=nt(),a=Kr(s);return r=wm(r),t.context===null?t.context=r:t.pendingContext=r,t=pr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Wr(s,t,a),e!==null&&(Vt(e,s,a,i),ka(e,s,a)),a}function ro(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ah(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ac(e,t){ah(e,t),(e=e.alternate)&&ah(e,t)}function Yy(){return null}var _m=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rc(e){this._internalRoot=e}No.prototype.render=Rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Eo(e,t,null,null)};No.prototype.unmount=Rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nn(function(){Eo(null,e,null,null)}),t[gr]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xf();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pr.length&&t!==0&&t<Pr[r].priority;r++);Pr.splice(r,0,e),r===0&&ep(e)}};function Ic(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function oh(){}function Xy(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ro(a);i.call(c)}}var a=xm(t,n,e,0,null,!1,!1,"",oh);return e._reactRootContainer=a,e[gr]=a.current,wi(e.nodeType===8?e.parentNode:e),Nn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=ro(l);o.call(c)}}var l=Oc(e,0,!1,null,null,!1,!1,"",oh);return e._reactRootContainer=l,e[gr]=l.current,wi(e.nodeType===8?e.parentNode:e),Nn(function(){Eo(t,l,r,n)}),l}function Po(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=ro(a);o.call(l)}}Eo(t,a,e,s)}else a=Xy(r,t,e,s,n);return ro(a)}Jf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Js(t.pendingLanes);r!==0&&(Zu(t,r|1),ft(t,Pe()),!(oe&6)&&(bs=Pe()+500,en()))}break;case 13:Nn(function(){var n=yr(e,1);if(n!==null){var s=nt();Vt(n,e,1,s)}}),Ac(e,1)}};ec=function(e){if(e.tag===13){var t=yr(e,134217728);if(t!==null){var r=nt();Vt(t,e,134217728,r)}Ac(e,134217728)}};Yf=function(e){if(e.tag===13){var t=Kr(e),r=yr(e,t);if(r!==null){var n=nt();Vt(r,e,t,n)}Ac(e,t)}};Xf=function(){return he};Zf=function(e,t){var r=he;try{return he=e,t()}finally{he=r}};ql=function(e,t,r){switch(t){case"input":if($l(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=wo(n);if(!s)throw Error(R(90));Tf(n),$l(n,s)}}}break;case"textarea":Af(e,r);break;case"select":t=r.value,t!=null&&ts(e,!!r.multiple,t,!1)}};Uf=Nc;Mf=Nn;var Zy={usingClientEntryPoint:!1,Events:[Fi,Kn,wo,$f,Ff,Nc]},qs={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ev={bundleType:qs.bundleType,version:qs.version,rendererPackageName:qs.rendererPackageName,rendererConfig:qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vf(e),e===null?null:e.stateNode},findFiberByHostInstance:qs.findFiberByHostInstance||Yy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!da.isDisabled&&da.supportsFiber)try{mo=da.inject(ev),rr=da}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zy;xt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ic(t))throw Error(R(200));return Jy(e,t,null,r)};xt.createRoot=function(e,t){if(!Ic(e))throw Error(R(299));var r=!1,n="",s=_m;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Oc(e,1,!1,null,null,r,!1,n,s),e[gr]=t.current,wi(e.nodeType===8?e.parentNode:e),new Rc(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Vf(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Nn(e)};xt.hydrate=function(e,t,r){if(!Co(t))throw Error(R(200));return Po(null,e,t,!0,r)};xt.hydrateRoot=function(e,t,r){if(!Ic(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=_m;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=xm(t,null,e,1,r??null,s,!1,i,a),e[gr]=t.current,wi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new No(t)};xt.render=function(e,t,r){if(!Co(t))throw Error(R(200));return Po(null,e,t,!1,r)};xt.unmountComponentAtNode=function(e){if(!Co(e))throw Error(R(40));return e._reactRootContainer?(Nn(function(){Po(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};xt.unstable_batchedUpdates=Nc;xt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Co(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Po(e,t,r,!1,n)};xt.version="18.3.1-next-f1338f8080-20240426";function bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bm)}catch(e){console.error(e)}}bm(),bf.exports=xt;var km=bf.exports;const tv=cf(km);var Sm,lh=km;Sm=lh.createRoot,lh.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ci.apply(this,arguments)}var Mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Mr||(Mr={}));const uh="popstate";function rv(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return ku("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:no(s)}return sv(t,r,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nv(){return Math.random().toString(36).substr(2,8)}function ch(e,t){return{usr:e.state,key:e.key,idx:t}}function ku(e,t,r,n){return r===void 0&&(r=null),Ci({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ns(t):t,{state:r,key:t&&t.key||n||nv()})}function no(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ns(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function sv(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Mr.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(Ci({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Mr.Pop;let _=d(),m=_==null?null:_-c;c=_,l&&l({action:o,location:v.location,delta:m})}function h(_,m){o=Mr.Push;let p=ku(v.location,_,m);c=d()+1;let g=ch(p,c),k=v.createHref(p);try{a.pushState(g,"",k)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(k)}i&&l&&l({action:o,location:v.location,delta:1})}function y(_,m){o=Mr.Replace;let p=ku(v.location,_,m);c=d();let g=ch(p,c),k=v.createHref(p);a.replaceState(g,"",k),i&&l&&l({action:o,location:v.location,delta:0})}function w(_){let m=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof _=="string"?_:no(_);return p=p.replace(/ $/,"%20"),Te(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let v={get action(){return o},get location(){return e(s,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(uh,f),l=_,()=>{s.removeEventListener(uh,f),l=null}},createHref(_){return t(s,_)},createURL:w,encodeLocation(_){let m=w(_);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:y,go(_){return a.go(_)}};return v}var dh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dh||(dh={}));function iv(e,t,r){return r===void 0&&(r="/"),av(e,t,r,!1)}function av(e,t,r,n){let s=typeof t=="string"?Ns(t):t,i=Lc(s.pathname||"/",r);if(i==null)return null;let a=Em(e);ov(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=vv(i);o=gv(a[l],c,n)}return o}function Em(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(Te(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Gr([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(Te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Em(i.children,t,d,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:pv(c,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Nm(i.path))s(i,a,l)}),t}function Nm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Nm(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function ov(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:mv(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const lv=/^:[\w-]+$/,uv=3,cv=2,dv=1,hv=10,fv=-2,hh=e=>e==="*";function pv(e,t){let r=e.split("/"),n=r.length;return r.some(hh)&&(n+=fv),t&&(n+=cv),r.filter(s=>!hh(s)).reduce((s,i)=>s+(lv.test(i)?uv:i===""?dv:hv),n)}function mv(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function gv(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=fh({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=fh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Gr([i,f.pathname]),pathnameBase:bv(Gr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Gr([i,f.pathnameBase]))}return a}function fh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yv(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,d,f)=>{let{paramName:h,isOptional:y}=d;if(h==="*"){let v=o[f]||"";a=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[f];return y&&!w?c[h]=void 0:c[h]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function yv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function vv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function wv(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ns(e):e;return{pathname:r?r.startsWith("/")?r:xv(r,t):t,search:kv(n),hash:Sv(s)}}function xv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function vl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _v(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dc(e,t){let r=_v(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function $c(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ns(e):(s=Ci({},e),Te(!s.pathname||!s.pathname.includes("?"),vl("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),vl("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),vl("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=wv(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Gr=e=>e.join("/").replace(/\/\/+/g,"/"),bv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cm=["post","put","patch","delete"];new Set(Cm);const Ev=["get",...Cm];new Set(Ev);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(this,arguments)}const Fc=N.createContext(null),Nv=N.createContext(null),tn=N.createContext(null),To=N.createContext(null),rn=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Pm=N.createContext(null);function Cv(e,t){let{relative:r}=t===void 0?{}:t;Cs()||Te(!1);let{basename:n,navigator:s}=N.useContext(tn),{hash:i,pathname:a,search:o}=Om(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Gr([n,a])),s.createHref({pathname:l,search:o,hash:i})}function Cs(){return N.useContext(To)!=null}function Ps(){return Cs()||Te(!1),N.useContext(To).location}function Tm(e){N.useContext(tn).static||N.useLayoutEffect(e)}function Oo(){let{isDataRoute:e}=N.useContext(rn);return e?zv():Pv()}function Pv(){Cs()||Te(!1);let e=N.useContext(Fc),{basename:t,future:r,navigator:n}=N.useContext(tn),{matches:s}=N.useContext(rn),{pathname:i}=Ps(),a=JSON.stringify(Dc(s,r.v7_relativeSplatPath)),o=N.useRef(!1);return Tm(()=>{o.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=$c(c,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gr([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,i,e])}function Om(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(tn),{matches:s}=N.useContext(rn),{pathname:i}=Ps(),a=JSON.stringify(Dc(s,n.v7_relativeSplatPath));return N.useMemo(()=>$c(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function Tv(e,t){return Ov(e,t)}function Ov(e,t,r,n){Cs()||Te(!1);let{navigator:s}=N.useContext(tn),{matches:i}=N.useContext(rn),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=Ps(),d;if(t){var f;let _=typeof t=="string"?Ns(t):t;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||Te(!1),d=_}else d=c;let h=d.pathname||"/",y=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");y="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=iv(e,{pathname:y}),v=Dv(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Gr([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Gr([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&v?N.createElement(To.Provider,{value:{location:Pi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Mr.Pop}},v):v}function Av(){let e=Mv(),t=jv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:s},r):null,null)}const Rv=N.createElement(Av,null);class Iv extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(rn.Provider,{value:this.props.routeContext},N.createElement(Pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lv(e){let{routeContext:t,match:r,children:n}=e,s=N.useContext(Fc);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(rn.Provider,{value:t},n)}function Dv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||Te(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:y}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let y,w=!1,v=null,_=null;r&&(y=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||Rv,l&&(c<0&&h===0?(w=!0,_=null):c===h&&(w=!0,_=f.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,h+1)),p=()=>{let g;return y?g=v:w?g=_:f.route.Component?g=N.createElement(f.route.Component,null):f.route.element?g=f.route.element:g=d,N.createElement(Lv,{match:f,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:g})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?N.createElement(Iv,{location:r.location,revalidation:r.revalidation,component:v,error:y,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var Am=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Am||{}),so=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(so||{});function $v(e){let t=N.useContext(Fc);return t||Te(!1),t}function Fv(e){let t=N.useContext(Nv);return t||Te(!1),t}function Uv(e){let t=N.useContext(rn);return t||Te(!1),t}function Rm(e){let t=Uv(),r=t.matches[t.matches.length-1];return r.route.id||Te(!1),r.route.id}function Mv(){var e;let t=N.useContext(Pm),r=Fv(so.UseRouteError),n=Rm(so.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function zv(){let{router:e}=$v(Am.UseNavigateStable),t=Rm(so.UseNavigateStable),r=N.useRef(!1);return Tm(()=>{r.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Pi({fromRouteId:t},i)))},[e,t])}function ph(e){let{to:t,replace:r,state:n,relative:s}=e;Cs()||Te(!1);let{future:i,static:a}=N.useContext(tn),{matches:o}=N.useContext(rn),{pathname:l}=Ps(),c=Oo(),d=$c(t,Dc(o,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:s}),[c,f,s,r,n]),null}function cn(e){Te(!1)}function Bv(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Mr.Pop,navigator:i,static:a=!1,future:o}=e;Cs()&&Te(!1);let l=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:i,static:a,future:Pi({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=Ns(n));let{pathname:d="/",search:f="",hash:h="",state:y=null,key:w="default"}=n,v=N.useMemo(()=>{let _=Lc(d,l);return _==null?null:{location:{pathname:_,search:f,hash:h,state:y,key:w},navigationType:s}},[l,d,f,h,y,w,s]);return v==null?null:N.createElement(tn.Provider,{value:c},N.createElement(To.Provider,{children:r,value:v}))}function Vv(e){let{children:t,location:r}=e;return Tv(Su(t),r)}new Promise(()=>{});function Su(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,s)=>{if(!N.isValidElement(n))return;let i=[...t,s];if(n.type===N.Fragment){r.push.apply(r,Su(n.props.children,i));return}n.type!==cn&&Te(!1),!n.props.index||!n.props.children||Te(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Su(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(this,arguments)}function qv(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Wv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hv(e,t){return e.button===0&&(!t||t==="_self")&&!Wv(e)}const Kv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qv="6";try{window.__reactRouterVersion=Qv}catch{}const Gv="startTransition",mh=qg[Gv];function Jv(e){let{basename:t,children:r,future:n,window:s}=e,i=N.useRef();i.current==null&&(i.current=rv({window:s,v5Compat:!0}));let a=i.current,[o,l]=N.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=N.useCallback(f=>{c&&mh?mh(()=>l(f)):l(f)},[l,c]);return N.useLayoutEffect(()=>a.listen(d),[a,d]),N.createElement(Bv,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Yv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=N.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:f}=t,h=qv(t,Kv),{basename:y}=N.useContext(tn),w,v=!1;if(typeof c=="string"&&Xv.test(c)&&(w=c,Yv))try{let g=new URL(window.location.href),k=c.startsWith("//")?new URL(g.protocol+c):new URL(c),b=Lc(k.pathname,y);k.origin===g.origin&&b!=null?c=b+k.search+k.hash:v=!0}catch{}let _=Cv(c,{relative:s}),m=Zv(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:f});function p(g){n&&n(g),g.defaultPrevented||m(g)}return N.createElement("a",ju({},h,{href:w||_,onClick:v||i?n:p,ref:r,target:l}))});var gh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gh||(gh={}));var yh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(yh||(yh={}));function Zv(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=Oo(),c=Ps(),d=Om(e,{relative:a});return N.useCallback(f=>{if(Hv(f,r)){f.preventDefault();let h=n!==void 0?n:no(c)===no(d);l(e,{replace:h,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[c,l,d,n,s,r,e,i,a,o])}const ew="modulepreload",tw=function(e,t){return new URL(e,t).href},vh={},Mi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=tw(c,n),c in vh)return;vh[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!n)for(let w=a.length-1;w>=0;w--){const v=a[w];if(v.href===c&&(!d||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":ew,d||(y.as="script"),y.crossOrigin="",y.href=c,l&&y.setAttribute("nonce",l),document.head.appendChild(y),d)return new Promise((w,v)=>{y.addEventListener("load",w),y.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},rw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ts);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Uc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class nw extends Uc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class wh extends Uc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xh extends Uc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Eu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Eu||(Eu={}));var sw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class iw{constructor(t,{headers:r={},customFetch:n,region:s=Eu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=rw(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return sw(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(v=>{throw new nw(v)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new wh(f);if(!f.ok)throw new xh(f);let y=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield f.json():y==="application/octet-stream"?w=yield f.blob():y==="text/event-stream"?w=f:y==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof xh||s instanceof wh?s.context:void 0}}})}}var ut={},Mc={},Ao={},zi={},Ro={},Io={},aw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ks=aw();const ow=ks.fetch,Im=ks.fetch.bind(ks),Lm=ks.Headers,lw=ks.Request,uw=ks.Response,Ts=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lm,Request:lw,Response:uw,default:Im,fetch:ow},Symbol.toStringTag,{value:"Module"})),cw=Cg(Ts);var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});let dw=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Lo.default=dw;var Dm=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Io,"__esModule",{value:!0});const hw=Dm(cw),fw=Dm(Lo);let pw=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=hw.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let c=null,d=null,f=null,h=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),_=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await i.text();try{c=JSON.parse(v),Array.isArray(c)&&i.status===404&&(d=[],c=null,h=200,y="OK")}catch{i.status===404&&v===""?(h=204,y="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,y="OK"),c&&this.shouldThrowOnError)throw new fw.default(c)}return{error:c,data:d,count:f,status:h,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Io.default=pw;var mw=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ro,"__esModule",{value:!0});const gw=mw(Io);let yw=class extends gw.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ro.default=yw;var vw=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zi,"__esModule",{value:!0});const ww=vw(Ro);let xw=class extends ww.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};zi.default=xw;var _w=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ao,"__esModule",{value:!0});const Ws=_w(zi);let bw=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Ws.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ws.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ws.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ws.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ao.default=bw;var Do={},$o={};Object.defineProperty($o,"__esModule",{value:!0});$o.version=void 0;$o.version="0.0.0-automated";Object.defineProperty(Do,"__esModule",{value:!0});Do.DEFAULT_HEADERS=void 0;const kw=$o;Do.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kw.version}`};var $m=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mc,"__esModule",{value:!0});const Sw=$m(Ao),jw=$m(zi),Ew=Do;let Nw=class Fm{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Ew.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Sw.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Fm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(a="POST",l=r);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new jw.default({method:a,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Mc.default=Nw;var Os=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ut,"__esModule",{value:!0});ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const Um=Os(Mc);ut.PostgrestClient=Um.default;const Mm=Os(Ao);ut.PostgrestQueryBuilder=Mm.default;const zm=Os(zi);ut.PostgrestFilterBuilder=zm.default;const Bm=Os(Ro);ut.PostgrestTransformBuilder=Bm.default;const Vm=Os(Io);ut.PostgrestBuilder=Vm.default;const qm=Os(Lo);ut.PostgrestError=qm.default;var Cw=ut.default={PostgrestClient:Um.default,PostgrestQueryBuilder:Mm.default,PostgrestFilterBuilder:zm.default,PostgrestTransformBuilder:Bm.default,PostgrestBuilder:Vm.default,PostgrestError:qm.default};const{PostgrestClient:Pw,PostgrestQueryBuilder:ib,PostgrestFilterBuilder:ab,PostgrestTransformBuilder:ob,PostgrestBuilder:lb,PostgrestError:ub}=Cw;function Tw(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Ow=Tw(),Aw="2.11.15",Rw=`realtime-js/${Aw}`,Iw="1.0.0",Wm=1e4,Lw=1e3;var li;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(li||(li={}));var Ge;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ge||(Ge={}));var Ut;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ut||(Ut={}));var Nu;(function(e){e.websocket="websocket"})(Nu||(Nu={}));var hn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(hn||(hn={}));class Dw{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const l=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Hm{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pe||(pe={}));const _h=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=$w(a,e,t,s),i),{})},$w=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Km(i,a):Cu(a)},Km=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return zw(t,r)}switch(e){case pe.bool:return Fw(t);case pe.float4:case pe.float8:case pe.int2:case pe.int4:case pe.int8:case pe.numeric:case pe.oid:return Uw(t);case pe.json:case pe.jsonb:return Mw(t);case pe.timestamp:return Bw(t);case pe.abstime:case pe.date:case pe.daterange:case pe.int4range:case pe.int8range:case pe.money:case pe.reltime:case pe.text:case pe.time:case pe.timestamptz:case pe.timetz:case pe.tsrange:case pe.tstzrange:return Cu(t);default:return Cu(t)}},Cu=e=>e,Fw=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Uw=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Mw=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},zw=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Km(t,o))}return e},Bw=e=>typeof e=="string"?e.replace(" ","T"):e,Qm=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class wl{constructor(t,r,n={},s=Wm){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bh||(bh={}));class ui{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ui.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ui.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ui.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const f=i[c];if(f){const h=d.map(_=>_.presence_ref),y=f.map(_=>_.presence_ref),w=d.filter(_=>y.indexOf(_.presence_ref)<0),v=f.filter(_=>h.indexOf(_.presence_ref)<0);w.length>0&&(o[c]=w),v.length>0&&(l[c]=v)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(y=>y.presence_ref),h=d.filter(y=>f.indexOf(y.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,s(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kh||(kh={}));var Sh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sh||(Sh={}));var ur;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ur||(ur={}));class zc{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new wl(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new Hm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new ui(this),this.broadcastEndpointURL=Qm(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(d=>t==null?void 0:t(ur.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ur.CLOSED));const l={},c={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ur.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,y=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let v=0;v<y;v++){const _=h[v],{filter:{event:m,schema:p,table:g,filter:k}}=_,b=d&&d[v];if(b&&b.event===m&&b.schema===p&&b.table===g&&b.filter===k)w.push(Object.assign(Object.assign({},_),{id:b.id}));else{this.unsubscribe(),this.state=Ge.errored,t==null||t(ur.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ur.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ge.errored,t==null||t(ur.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ur.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ge.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ut.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new wl(this,Ut.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new wl(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Ut;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,v,_;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((_=(v=y.filter)===null||v===void 0?void 0:v.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(y=>y.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var w,v,_,m,p,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const k=y.id,b=(w=y.filter)===null||w===void 0?void 0:w.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:v,table:_,commit_timestamp:m,type:p,errors:g}=w;h=Object.assign(Object.assign({},{schema:v,table:_,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(w))}y.callback(h,n)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&zc.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ut.close,{},t)}_onError(t){this._on(Ut.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_h(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_h(t.columns,t.old_record)),r}}const jh=()=>{},Vw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qw{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Wm,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jh,this.ref=0,this.logger=jh,this.conn=null,this.sendBuffer=[],this.serializer=new Dw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>Mi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ts);return{default:l}},void 0,import.meta.url).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${t}/${Nu.websocket}`,this.httpEndpoint=Qm(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Hm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Ow),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Iw}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case li.connecting:return hn.Connecting;case li.open:return hn.Open;case li.closing:return hn.Closing;default:return hn.Closed}}isConnected(){return this.connectionState()===hn.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new zc(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Rw};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ut.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Lw,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ut.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Vw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Bc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ww extends Bc{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Pu extends Bc{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Hw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const Gm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ts);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Kw=()=>Hw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Mi(()=>Promise.resolve().then(()=>Ts),void 0,import.meta.url)).Response:Response}),Tu=e=>{if(Array.isArray(e))return e.map(r=>Tu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Tu(n)}),t};var Tn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const xl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Qw=(e,t,r)=>Tn(void 0,void 0,void 0,function*(){const n=yield Kw();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Ww(xl(s),e.status||500))}).catch(s=>{t(new Pu(xl(s),s))}):t(new Pu(xl(e),e))}),Gw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Bi(e,t,r,n,s,i){return Tn(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,Gw(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>Qw(l,o,n))})})}function io(e,t,r,n){return Tn(this,void 0,void 0,function*(){return Bi(e,"GET",t,r,n)})}function Cr(e,t,r,n,s){return Tn(this,void 0,void 0,function*(){return Bi(e,"POST",t,n,s,r)})}function Jw(e,t,r,n,s){return Tn(this,void 0,void 0,function*(){return Bi(e,"PUT",t,n,s,r)})}function Yw(e,t,r,n){return Tn(this,void 0,void 0,function*(){return Bi(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Jm(e,t,r,n,s){return Tn(this,void 0,void 0,function*(){return Bi(e,"DELETE",t,n,s,r)})}var at=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const Xw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zw{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Gm(s)}uploadOrUpdate(t,r,n,s){return at(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Eh),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Ue(i))return{data:null,error:i};throw i}})}upload(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return at(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Eh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(Ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return at(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Cr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Bc("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}update(t,r,n){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}copy(t,r,n){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield Cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return at(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Cr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return at(this,void 0,void 0,function*(){try{const s=yield Cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}download(t,r){return at(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield io(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ue(o))return{data:null,error:o};throw o}})}info(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield io(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Tu(n),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}exists(t){return at(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Yw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ue(n)&&n instanceof Pu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return at(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}list(t,r,n){return at(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Xw),r),{prefix:t||""});return{data:yield Cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ue(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ex="2.7.1",tx={"X-Client-Info":`storage-js/${ex}`};var In=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class rx{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},tx),r),this.fetch=Gm(n)}listBuckets(){return In(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ue(t))return{data:null,error:t};throw t}})}getBucket(t){return In(this,void 0,void 0,function*(){try{return{data:yield io(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return In(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return In(this,void 0,void 0,function*(){try{return{data:yield Jw(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}})}emptyBucket(t){return In(this,void 0,void 0,function*(){try{return{data:yield Cr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return In(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}})}}class nx extends rx{constructor(t,r={},n){super(t,r,n)}from(t){return new Zw(this.url,this.headers,t,this.fetch)}}const sx="2.51.0";let Xs="";typeof Deno<"u"?Xs="deno":typeof document<"u"?Xs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xs="react-native":Xs="node";const ix={"X-Client-Info":`supabase-js-${Xs}/${sx}`},ax={headers:ix},ox={schema:"public"},lx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ux={};var cx=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const dx=e=>{let t;return e?t=e:typeof fetch>"u"?t=Im:t=fetch,(...r)=>t(...r)},hx=()=>typeof Headers>"u"?Lm:Headers,fx=(e,t,r)=>{const n=dx(r),s=hx();return(i,a)=>cx(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var px=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function mx(e){return e.endsWith("/")?e:e+"/"}function gx(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>px(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Ym="2.71.0",Mn=30*1e3,Ou=3,_l=Ou*Mn,yx="http://localhost:9999",vx="supabase.auth.token",wx={"X-Client-Info":`gotrue-js/${Ym}`},Au="X-Supabase-Api-Version",Xm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_x=10*60*1e3;class Vc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Y(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class bx extends Vc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function kx(e){return Y(e)&&e.name==="AuthApiError"}class Zm extends Vc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class nn extends Vc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Sr extends nn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sx(e){return Y(e)&&e.name==="AuthSessionMissingError"}class ha extends nn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fa extends nn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class pa extends nn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jx(e){return Y(e)&&e.name==="AuthImplicitGrantRedirectError"}class Nh extends nn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ru extends nn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function bl(e){return Y(e)&&e.name==="AuthRetryableFetchError"}class Ch extends nn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Iu extends nn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ao="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ph=` 	
\r=`.split(""),Ex=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ph.length;t+=1)e[Ph[t].charCodeAt(0)]=-2;for(let t=0;t<ao.length;t+=1)e[ao[t].charCodeAt(0)]=t;return e})();function Th(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ao[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ao[n]),t.queuedBits-=6}}function eg(e,t,r){const n=Ex[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Oh(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Px(a,n,r)};for(let a=0;a<e.length;a+=1)eg(e.charCodeAt(a),s,i);return t.join("")}function Nx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Cx(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Nx(n,t)}}function Px(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Tx(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)eg(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Ox(e){const t=[];return Cx(e,r=>t.push(r)),new Uint8Array(t)}function Ax(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Th(s,r,n)),Th(null,r,n),t.join("")}function Rx(e){return Math.round(Date.now()/1e3)+e}function Ix(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const It=()=>typeof window<"u"&&typeof document<"u",an={tested:!1,writable:!1},tg=()=>{if(!It())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(an.tested)return an.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),an.tested=!0,an.writable=!0}catch{an.tested=!0,an.writable=!1}return an.writable};function Lx(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const rg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Mi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ts);return{default:n}},void 0,import.meta.url).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Dx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},on=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kr=async(e,t)=>{await e.removeItem(t)};class Fo{constructor(){this.promise=new Fo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Fo.promiseConstructor=Promise;function kl(e){const t=e.split(".");if(t.length!==3)throw new Iu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!xx.test(t[n]))throw new Iu("JWT not in base64url format");return{header:JSON.parse(Oh(t[0])),payload:JSON.parse(Oh(t[1])),signature:Tx(t[2]),raw:{header:t[0],payload:t[1]}}}async function $x(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Fx(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Ux(e){return("0"+e.toString(16)).substr(-2)}function Mx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Ux).join("")}async function zx(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Bx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await zx(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ln(e,t,r=!1){const n=Mx();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await zn(e,`${t}-code-verifier`,s);const i=await Bx(n);return[i,n===i?"plain":"s256"]}const Vx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qx(e){const t=e.headers.get(Au);if(!t||!t.match(Vx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Wx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Hx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dn(e){if(!Kx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sl(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var Qx=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const dn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gx=[502,503,504];async function Ah(e){var t;if(!Dx(e))throw new Ru(dn(e),0);if(Gx.includes(e.status))throw new Ru(dn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Zm(dn(i),i)}let n;const s=qx(e);if(s&&s.getTime()>=Xm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ch(dn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Sr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ch(dn(r),e.status,r.weak_password.reasons);throw new bx(dn(r),e.status||500,n)}const Jx=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ne(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Au]||(i[Au]=Xm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Yx(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Yx(e,t,r,n,s,i){const a=Jx(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new Ru(dn(l),0)}if(o.ok||await Ah(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Ah(l)}}function ar(e){var t;let r=null;t1(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Rx(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Rh(e){const t=ar(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Or(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xx(e){return{data:e,error:null}}function Zx(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=Qx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function e1(e){return e}function t1(e){return e.access_token&&e.refresh_token&&e.expires_in}const jl=["global","local","others"];var r1=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class n1{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=rg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=jl[0]){if(jl.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jl.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Or})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=r1(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Zx,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Y(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Or})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:e1});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(w.split(";")[1].split("=")[1]);c[`${_}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Y(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Dn(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Or})}catch(r){if(Y(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Dn(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Or})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Dn(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Or})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Dn(t.userId);try{const{data:r,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Dn(t.userId),Dn(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}}function Ih(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function s1(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const $n={debug:!!(globalThis&&tg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ng extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class i1 extends ng{}async function a1(e,t,r){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),$n.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{$n.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw $n.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new i1(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($n.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}s1();const o1={url:yx,storageKey:vx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Lh(e,t,r){return await r()}const Fn={};class Ti{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ti.nextInstanceID,Ti.nextInstanceID+=1,this.instanceID>0&&It()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},o1),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new n1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=rg(s.fetch),this.lock=s.lock||Lh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:It()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=a1:this.lock=Lh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:tg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),It()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Fn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fn[this.storageKey]=Object.assign(Object.assign({},Fn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fn[this.storageKey]=Object.assign(Object.assign({},Fn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ym}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Lx(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),It()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jx(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Y(r)?{error:r}:{error:new Zm("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ar}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Ln(this.storage,this.storageKey)),i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:w},xform:ar})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ar})}else throw new fa("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Y(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Rh})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Rh})}else throw new fa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ha}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,l,c,d,f,h,y;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:_,wallet:m,statement:p,options:g}=t;let k;if(It())if(typeof m=="object")k=m;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))k=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=m}const b=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const E=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let P;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")P=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)P=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)w=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),v=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${b.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const E=await k.signMessage(new TextEncoder().encode(w),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=E}}try{const{data:_,error:m}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ax(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ar});if(m)throw m;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ha}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:m})}catch(_){if(Y(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await on(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ar});if(await kr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ha}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(Y(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ar}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ha}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ln(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new fa("You must provide either an email or phone number.")}catch(o){if(Y(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ar});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Ln(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Xx})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Sr;const{error:s}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Y(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new fa("You must provide either an email or phone number and a type")}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await on(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_l:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await on(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Sl()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Or}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sr}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Or})})}catch(r){if(Y(r))return Sx(r)&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Sr;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Ln(this.storage,this.storageKey));const{data:c,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Or});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Y(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Sr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=kl(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Y(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Sr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!It())throw new pa("No browser detected.");if(t.error||t.error_description||t.error_code)throw new pa(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Nh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new pa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Nh("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!a||!c)throw new pa("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const y=h-d;y*1e3<=Mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:v,error:_}=await this._getUser(i);if(_)throw _;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(Y(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await on(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(kx(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Ix(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ln(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Y(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:f,error:h}=i;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return It()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Y(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Fx(async s=>(s>0&&await $x(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ar})),(s,i)=>{const a=200*Math.pow(2,s);return i&&bl(i)&&Date.now()+a-n<Mn})}catch(n){if(this._debug(r,"error",n),Y(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),It()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await on(this.storage,this.storageKey);if(s&&this.userStorage){let a=await on(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await zn(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Sl()}else if(s&&!s.user&&!s.user){const a=await on(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await kr(this.storage,this.storageKey+"-user"),await zn(this.storage,this.storageKey,s)):s.user=Sl()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_l;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${_l}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),bl(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Sr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Fo;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Sr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Y(i)){const a={session:null,error:i};return bl(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await zn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=structuredClone(s);await zn(this.storage,this.storageKey,i)}else{const s=structuredClone(r);await zn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await kr(this.storage,this.storageKey),await kr(this.storage,this.storageKey+"-code-verifier"),await kr(this.storage,this.storageKey+"-user"),this.userStorage&&await kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&It()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mn}ms, refresh threshold is ${Ou} ticks`),s<=Ou&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ng)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!It()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Ln(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Y(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Y(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=kl(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+_x>s)return n;const{data:i,error:a}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=kl(n);r!=null&&r.allowExpired||Wx(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=Hx(s.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,Ox(`${o}.${l}`)))throw new Iu("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(Y(n))return{data:null,error:n};throw n}}}Ti.nextInstanceID=0;const l1=Ti;class u1 extends l1{constructor(t){super(t)}}var c1=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(f){a(f)}}function l(d){try{c(n.throw(d))}catch(f){a(f)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class d1{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=mx(t),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:ox,realtime:ux,auth:Object.assign(Object.assign({},lx),{storageKey:c}),global:ax},f=gx(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=fx(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Pw(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new iw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nx(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return c1(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u1({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new qw(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const h1=(e,t,r)=>new d1(e,t,r),f1="https://esszfxdumohyiryucnke.supabase.co",p1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVzc3pmeGR1bW9oeWlyeXVjbmtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI1Nzc4NTcsImV4cCI6MjA2ODE1Mzg1N30.B4ATkvA_ghXIXSVovrvhlIDm8eD7zDiQjI2QlazX7iE",ae=h1(f1,p1),sg=N.createContext(void 0),As=()=>{const e=N.useContext(sg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},m1=({children:e})=>{const[t,r]=N.useState(null),[n,s]=N.useState(null),[i,a]=N.useState(!0),[o,l]=N.useState(!1),c=Oo();N.useEffect(()=>{let w=!0;(async()=>{try{console.log("Initializing auth...");const{data:{session:m}}=await ae.auth.getSession();w&&(m!=null&&m.user?(console.log("Session found:",m.user.id),r(m.user),await d(m.user.id)):(console.log("No session found"),r(null),s(null)))}catch(m){console.error("Auth initialization error:",m),w&&(r(null),s(null))}finally{w&&(a(!1),l(!0))}})();const{data:{subscription:_}}=ae.auth.onAuthStateChange(async(m,p)=>{var g;if(!(!w||!o)&&m!=="INITIAL_SESSION"){console.log("Auth state change:",m,(g=p==null?void 0:p.user)==null?void 0:g.id);try{if(p!=null&&p.user){r(p.user);const k=m==="SIGNED_IN";await d(p.user.id,k)}else r(null),s(null)}catch(k){console.error("Auth state change error:",k)}}});return()=>{w=!1,_.unsubscribe()}},[c]);const d=async(w,v=!1)=>{try{console.log("Fetching profile for user:",w);const{data:_,error:m}=await ae.from("profiles").select("*").eq("id",w).single();if(m)throw console.error("Profile fetch error:",m),m;console.log("Profile fetched:",_),s(_),v&&((_==null?void 0:_.role)==="admin"?c("/admin"):c("/dashboard"))}catch(_){if(console.error("Profile fetch failed:",_),_.code==="PGRST116")await f(w);else throw _}},f=async w=>{var v,_,m;try{console.log("Creating profile for user:",w);const{data:p}=await ae.auth.getUser(),{data:g,error:k}=await ae.from("profiles").insert({id:w,email:((v=p.user)==null?void 0:v.email)||"",full_name:((m=(_=p.user)==null?void 0:_.user_metadata)==null?void 0:m.full_name)||"",role:"user"}).select().single();if(k)throw k;console.log("Profile created:",g),s(g),c("/dashboard")}catch(p){throw console.error("Profile creation failed:",p),p}},y={user:t,profile:n,loading:i,logout:async()=>{try{console.log("Logging out..."),a(!0),r(null),s(null),await ae.auth.signOut(),Object.keys(localStorage).forEach(w=>{w.startsWith("sb-")&&localStorage.removeItem(w)}),setTimeout(()=>{c("/"),a(!1)},100)}catch(w){throw console.error("Logout error:",w),a(!1),w}}};return u.jsx(sg.Provider,{value:y,children:e})};var g1=e=>{switch(e){case"success":return w1;case"info":return _1;case"warning":return x1;case"error":return b1;default:return null}},y1=Array(12).fill(0),v1=({visible:e})=>L.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},L.createElement("div",{className:"sonner-spinner"},y1.map((t,r)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),w1=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),x1=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_1=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),b1=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),k1=()=>{let[e,t]=L.useState(document.hidden);return L.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Lu=1,S1=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Lu++,i=this.toasts.find(o=>o.id===s),a=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(o=>o.id===s?(this.publish({...o,...e,id:s,title:r}),{...o,...e,id:s,dismissible:a,title:r}):o):this.addToast({title:r,...n,dismissible:a,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async i=>{if(E1(i)&&!i.ok){s=!1;let a=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,o=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:r,type:"error",message:a,description:o})}else if(t.success!==void 0){s=!1;let a=typeof t.success=="function"?await t.success(i):t.success,o=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"success",message:a,description:o})}}).catch(async i=>{if(t.error!==void 0){s=!1;let a=typeof t.error=="function"?await t.error(i):t.error,o=typeof t.description=="function"?await t.description(i):t.description;this.create({id:r,type:"error",message:a,description:o})}}).finally(()=>{var i;s&&(this.dismiss(r),r=void 0),(i=t.finally)==null||i.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Lu++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},mt=new S1,j1=(e,t)=>{let r=(t==null?void 0:t.id)||Lu++;return mt.addToast({title:e,...t,id:r}),r},E1=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",N1=j1,C1=()=>mt.toasts,ie=Object.assign(N1,{success:mt.success,info:mt.info,warning:mt.warning,error:mt.error,custom:mt.custom,message:mt.message,promise:mt.promise,dismiss:mt.dismiss,loading:mt.loading},{getHistory:C1});function P1(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}P1(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ma(e){return e.label!==void 0}var T1=3,O1="32px",A1=4e3,R1=356,I1=14,L1=20,D1=200;function $1(...e){return e.filter(Boolean).join(" ")}var F1=e=>{var t,r,n,s,i,a,o,l,c,d;let{invert:f,toast:h,unstyled:y,interacting:w,setHeights:v,visibleToasts:_,heights:m,index:p,toasts:g,expanded:k,removeToast:b,defaultRichColors:E,closeButton:P,style:A,cancelButtonStyle:G,actionButtonStyle:z,className:ue="",descriptionClassName:K="",duration:J,position:O,gap:Q,loadingIcon:B,expandByDefault:le,classNames:T,icons:M,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:V,cn:H}=e,[te,de]=L.useState(!1),[Ie,re]=L.useState(!1),[Fe,At]=L.useState(!1),[bt,sr]=L.useState(!1),[qi,Rs]=L.useState(0),[Wi,Is]=L.useState(0),Vo=L.useRef(null),sn=L.useRef(null),Xc=p===0,x=p+1<=_,S=h.type,j=h.dismissible!==!1,$=h.className||"",D=h.descriptionClassName||"",I=L.useMemo(()=>m.findIndex(Z=>Z.toastId===h.id)||0,[m,h.id]),q=L.useMemo(()=>{var Z;return(Z=h.closeButton)!=null?Z:P},[h.closeButton,P]),X=L.useMemo(()=>h.duration||J||A1,[h.duration,J]),je=L.useRef(0),ge=L.useRef(0),Wt=L.useRef(0),xr=L.useRef(null),[On,Ls]=O.split("-"),Hi=L.useMemo(()=>m.reduce((Z,ye,fe)=>fe>=I?Z:Z+ye.height,0),[m,I]),Ds=k1(),qo=h.invert||f,An=S==="loading";ge.current=L.useMemo(()=>I*Q+Hi,[I,Hi]),L.useEffect(()=>{de(!0)},[]),L.useLayoutEffect(()=>{if(!te)return;let Z=sn.current,ye=Z.style.height;Z.style.height="auto";let fe=Z.getBoundingClientRect().height;Z.style.height=ye,Is(fe),v(Ht=>Ht.find(Kt=>Kt.toastId===h.id)?Ht.map(Kt=>Kt.toastId===h.id?{...Kt,height:fe}:Kt):[{toastId:h.id,height:fe,position:h.position},...Ht])},[te,h.title,h.description,v,h.id]);let _r=L.useCallback(()=>{re(!0),Rs(ge.current),v(Z=>Z.filter(ye=>ye.toastId!==h.id)),setTimeout(()=>{b(h)},D1)},[h,b,v,ge]);L.useEffect(()=>{if(h.promise&&S==="loading"||h.duration===1/0||h.type==="loading")return;let Z,ye=X;return k||w||V&&Ds?(()=>{if(Wt.current<je.current){let fe=new Date().getTime()-je.current;ye=ye-fe}Wt.current=new Date().getTime()})():ye!==1/0&&(je.current=new Date().getTime(),Z=setTimeout(()=>{var fe;(fe=h.onAutoClose)==null||fe.call(h,h),_r()},ye)),()=>clearTimeout(Z)},[k,w,le,h,X,_r,h.promise,S,V,Ds]),L.useEffect(()=>{let Z=sn.current;if(Z){let ye=Z.getBoundingClientRect().height;return Is(ye),v(fe=>[{toastId:h.id,height:ye,position:h.position},...fe]),()=>v(fe=>fe.filter(Ht=>Ht.toastId!==h.id))}},[v,h.id]),L.useEffect(()=>{h.delete&&_r()},[_r,h.delete]);function jg(){return M!=null&&M.loading?L.createElement("div",{className:"sonner-loader","data-visible":S==="loading"},M.loading):B?L.createElement("div",{className:"sonner-loader","data-visible":S==="loading"},B):L.createElement(v1,{visible:S==="loading"})}return L.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:sn,className:H(ue,$,T==null?void 0:T.toast,(t=h==null?void 0:h.classNames)==null?void 0:t.toast,T==null?void 0:T.default,T==null?void 0:T[S],(r=h==null?void 0:h.classNames)==null?void 0:r[S]),"data-sonner-toast":"","data-rich-colors":(n=h.richColors)!=null?n:E,"data-styled":!(h.jsx||h.unstyled||y),"data-mounted":te,"data-promise":!!h.promise,"data-removed":Ie,"data-visible":x,"data-y-position":On,"data-x-position":Ls,"data-index":p,"data-front":Xc,"data-swiping":Fe,"data-dismissible":j,"data-type":S,"data-invert":qo,"data-swipe-out":bt,"data-expanded":!!(k||le&&te),style:{"--index":p,"--toasts-before":p,"--z-index":g.length-p,"--offset":`${Ie?qi:ge.current}px`,"--initial-height":le?"auto":`${Wi}px`,...A,...h.style},onPointerDown:Z=>{An||!j||(Vo.current=new Date,Rs(ge.current),Z.target.setPointerCapture(Z.pointerId),Z.target.tagName!=="BUTTON"&&(At(!0),xr.current={x:Z.clientX,y:Z.clientY}))},onPointerUp:()=>{var Z,ye,fe,Ht;if(bt||!j)return;xr.current=null;let Kt=Number(((Z=sn.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Ki=new Date().getTime()-((ye=Vo.current)==null?void 0:ye.getTime()),Eg=Math.abs(Kt)/Ki;if(Math.abs(Kt)>=L1||Eg>.11){Rs(ge.current),(fe=h.onDismiss)==null||fe.call(h,h),_r(),sr(!0);return}(Ht=sn.current)==null||Ht.style.setProperty("--swipe-amount","0px"),At(!1)},onPointerMove:Z=>{var ye;if(!xr.current||!j)return;let fe=Z.clientY-xr.current.y,Ht=Z.clientX-xr.current.x,Kt=(On==="top"?Math.min:Math.max)(0,fe),Ki=Z.pointerType==="touch"?10:2;Math.abs(Kt)>Ki?(ye=sn.current)==null||ye.style.setProperty("--swipe-amount",`${fe}px`):Math.abs(Ht)>Ki&&(xr.current=null)}},q&&!h.jsx?L.createElement("button",{"aria-label":W,"data-disabled":An,"data-close-button":!0,onClick:An||!j?()=>{}:()=>{var Z;_r(),(Z=h.onDismiss)==null||Z.call(h,h)},className:H(T==null?void 0:T.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||L.isValidElement(h.title)?h.jsx||h.title:L.createElement(L.Fragment,null,S||h.icon||h.promise?L.createElement("div",{"data-icon":"",className:H(T==null?void 0:T.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||jg():null,h.type!=="loading"?h.icon||(M==null?void 0:M[S])||g1(S):null):null,L.createElement("div",{"data-content":"",className:H(T==null?void 0:T.content,(a=h==null?void 0:h.classNames)==null?void 0:a.content)},L.createElement("div",{"data-title":"",className:H(T==null?void 0:T.title,(o=h==null?void 0:h.classNames)==null?void 0:o.title)},h.title),h.description?L.createElement("div",{"data-description":"",className:H(K,D,T==null?void 0:T.description,(l=h==null?void 0:h.classNames)==null?void 0:l.description)},h.description):null),L.isValidElement(h.cancel)?h.cancel:h.cancel&&ma(h.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||G,onClick:Z=>{var ye,fe;ma(h.cancel)&&j&&((fe=(ye=h.cancel).onClick)==null||fe.call(ye,Z),_r())},className:H(T==null?void 0:T.cancelButton,(c=h==null?void 0:h.classNames)==null?void 0:c.cancelButton)},h.cancel.label):null,L.isValidElement(h.action)?h.action:h.action&&ma(h.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||z,onClick:Z=>{var ye,fe;ma(h.action)&&(Z.defaultPrevented||((fe=(ye=h.action).onClick)==null||fe.call(ye,Z),_r()))},className:H(T==null?void 0:T.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Dh(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var U1=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:i,className:a,offset:o,theme:l="light",richColors:c,duration:d,style:f,visibleToasts:h=T1,toastOptions:y,dir:w=Dh(),gap:v=I1,loadingIcon:_,icons:m,containerAriaLabel:p="Notifications",pauseWhenPageIsHidden:g,cn:k=$1}=e,[b,E]=L.useState([]),P=L.useMemo(()=>Array.from(new Set([r].concat(b.filter(V=>V.position).map(V=>V.position)))),[b,r]),[A,G]=L.useState([]),[z,ue]=L.useState(!1),[K,J]=L.useState(!1),[O,Q]=L.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=L.useRef(null),le=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=L.useRef(null),M=L.useRef(!1),W=L.useCallback(V=>{var H;(H=b.find(te=>te.id===V.id))!=null&&H.delete||mt.dismiss(V.id),E(te=>te.filter(({id:de})=>de!==V.id))},[b]);return L.useEffect(()=>mt.subscribe(V=>{if(V.dismiss){E(H=>H.map(te=>te.id===V.id?{...te,delete:!0}:te));return}setTimeout(()=>{tv.flushSync(()=>{E(H=>{let te=H.findIndex(de=>de.id===V.id);return te!==-1?[...H.slice(0,te),{...H[te],...V},...H.slice(te+1)]:[V,...H]})})})}),[]),L.useEffect(()=>{if(l!=="system"){Q(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:V})=>{Q(V?"dark":"light")})},[l]),L.useEffect(()=>{b.length<=1&&ue(!1)},[b]),L.useEffect(()=>{let V=H=>{var te,de;n.every(Ie=>H[Ie]||H.code===Ie)&&(ue(!0),(te=B.current)==null||te.focus()),H.code==="Escape"&&(document.activeElement===B.current||(de=B.current)!=null&&de.contains(document.activeElement))&&ue(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[n]),L.useEffect(()=>{if(B.current)return()=>{T.current&&(T.current.focus({preventScroll:!0}),T.current=null,M.current=!1)}},[B.current]),b.length?L.createElement("section",{"aria-label":`${p} ${le}`,tabIndex:-1},P.map((V,H)=>{var te;let[de,Ie]=V.split("-");return L.createElement("ol",{key:V,dir:w==="auto"?Dh():w,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":de,"data-x-position":Ie,style:{"--front-toast-height":`${((te=A[0])==null?void 0:te.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||O1,"--width":`${R1}px`,"--gap":`${v}px`,...f},onBlur:re=>{M.current&&!re.currentTarget.contains(re.relatedTarget)&&(M.current=!1,T.current&&(T.current.focus({preventScroll:!0}),T.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||M.current||(M.current=!0,T.current=re.relatedTarget)},onMouseEnter:()=>ue(!0),onMouseMove:()=>ue(!0),onMouseLeave:()=>{K||ue(!1)},onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},b.filter(re=>!re.position&&H===0||re.position===V).map((re,Fe)=>{var At,bt;return L.createElement(F1,{key:re.id,icons:m,index:Fe,toast:re,defaultRichColors:c,duration:(At=y==null?void 0:y.duration)!=null?At:d,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:t,visibleToasts:h,closeButton:(bt=y==null?void 0:y.closeButton)!=null?bt:i,interacting:K,position:V,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:W,toasts:b.filter(sr=>sr.position==re.position),heights:A.filter(sr=>sr.position==re.position),setHeights:G,expandByDefault:s,gap:v,loadingIcon:_,expanded:z,pauseWhenPageIsHidden:g,cn:k})}))})):null};const ig=N.createContext(void 0),qc=()=>{const e=N.useContext(ig);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},M1=({children:e})=>{const[t,r]=N.useState([]),[n,s]=N.useState(!1),{user:i}=As();N.useEffect(()=>{i?a():r([])},[i]);const a=async()=>{if(i)try{s(!0);const{data:h,error:y}=await ae.from("cart_items").select("*").eq("user_id",i.id);if(y)throw y;const{data:w,error:v}=await ae.from("services").select("*");if(v)throw v;const _=(h==null?void 0:h.map(m=>{const p=w==null?void 0:w.find(g=>g.id===m.product_id);return{id:m.id,product_id:m.product_id,name:(p==null?void 0:p.name)||"Unknown Service",price:(p==null?void 0:p.price)||0,quantity:m.quantity,image_url:(p==null?void 0:p.image_url)||"/api/placeholder/150/150"}}))||[];r(_)}catch(h){console.error("Error fetching cart items:",h),ie.error("Failed to load cart items")}finally{s(!1)}},f={cartItems:t,addToCart:async h=>{if(!i){ie.error("Please login to add items to cart");return}try{s(!0);const{data:y}=await ae.from("cart_items").select("*").eq("user_id",i.id).eq("product_id",h.id).single();if(y){const{error:w}=await ae.from("cart_items").update({quantity:y.quantity+1}).eq("id",y.id);if(w)throw w}else{const{error:w}=await ae.from("cart_items").insert({user_id:i.id,product_id:h.id,quantity:1});if(w)throw w}await a(),ie.success("Item added to cart!")}catch(y){console.error("Add to cart error:",y),ie.error("Failed to add item to cart")}finally{s(!1)}},removeFromCart:async h=>{if(i)try{s(!0);const{error:y}=await ae.from("cart_items").delete().eq("id",h);if(y)throw y;await a(),ie.success("Item removed from cart")}catch(y){console.error("Remove from cart error:",y),ie.error("Failed to remove item from cart")}finally{s(!1)}},updateQuantity:async(h,y)=>{if(!(!i||y<1))try{s(!0);const{error:w}=await ae.from("cart_items").update({quantity:y}).eq("id",h);if(w)throw w;await a()}catch(w){console.error("Update quantity error:",w),ie.error("Failed to update quantity")}finally{s(!1)}},clearCart:async()=>{if(i)try{s(!0);const{error:h}=await ae.from("cart_items").delete().eq("user_id",i.id);if(h)throw h;r([]),ie.success("Cart cleared")}catch(h){console.error("Clear cart error:",h),ie.error("Failed to clear cart")}finally{s(!1)}},loading:n};return u.jsx(ig.Provider,{value:f,children:e})};var Uo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mo=typeof window>"u"||"Deno"in globalThis;function Dt(){}function z1(e,t){return typeof e=="function"?e(t):e}function B1(e){return typeof e=="number"&&e>=0&&e!==1/0}function V1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $h(e,t){return typeof e=="function"?e(t):e}function q1(e,t){return typeof e=="function"?e(t):e}function Fh(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=e;if(a){if(n){if(t.queryHash!==Wc(a,t.options))return!1}else if(!Ai(t.queryKey,a))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||s&&s!==t.state.fetchStatus||i&&!i(t))}function Uh(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Oi(t.options.mutationKey)!==Oi(i))return!1}else if(!Ai(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Wc(e,t){return((t==null?void 0:t.queryKeyHashFn)||Oi)(e)}function Oi(e){return JSON.stringify(e,(t,r)=>Du(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ai(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Ai(e[r],t[r])):!1}function ag(e,t){if(e===t)return e;const r=Mh(e)&&Mh(t);if(r||Du(e)&&Du(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),a=i.length,o=r?[]:{};let l=0;for(let c=0;c<a;c++){const d=r?c:i[c];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(o[d]=void 0,l++):(o[d]=ag(e[d],t[d]),o[d]===e[d]&&e[d]!==void 0&&l++)}return s===a&&l===s?e:o}return t}function Mh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Du(e){if(!zh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!zh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function zh(e){return Object.prototype.toString.call(e)==="[object Object]"}function W1(e){return new Promise(t=>{setTimeout(t,e)})}function H1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ag(e,t):t}function K1(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Q1(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Hc=Symbol();function og(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Hc?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var yn,Rr,os,tf,G1=(tf=class extends Uo{constructor(){super();ce(this,yn);ce(this,Rr);ce(this,os);ee(this,os,t=>{if(!Mo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Rr)||this.setEventListener(C(this,os))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Rr))==null||t.call(this),ee(this,Rr,void 0))}setEventListener(t){var r;ee(this,os,t),(r=C(this,Rr))==null||r.call(this),ee(this,Rr,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,yn)!==t&&(ee(this,yn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,yn)=="boolean"?C(this,yn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},yn=new WeakMap,Rr=new WeakMap,os=new WeakMap,tf),lg=new G1,ls,Ir,us,rf,J1=(rf=class extends Uo{constructor(){super();ce(this,ls,!0);ce(this,Ir);ce(this,us);ee(this,us,t=>{if(!Mo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Ir)||this.setEventListener(C(this,us))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ir))==null||t.call(this),ee(this,Ir,void 0))}setEventListener(t){var r;ee(this,us,t),(r=C(this,Ir))==null||r.call(this),ee(this,Ir,t(this.setOnline.bind(this)))}setOnline(t){C(this,ls)!==t&&(ee(this,ls,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,ls)}},ls=new WeakMap,Ir=new WeakMap,us=new WeakMap,rf),oo=new J1;function Y1(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function X1(e){return Math.min(1e3*2**e,3e4)}function ug(e){return(e??"online")==="online"?oo.isOnline():!0}var cg=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function El(e){return e instanceof cg}function dg(e){let t=!1,r=0,n=!1,s;const i=Y1(),a=v=>{var _;n||(h(new cg(v)),(_=e.abort)==null||_.call(e))},o=()=>{t=!0},l=()=>{t=!1},c=()=>lg.isFocused()&&(e.networkMode==="always"||oo.isOnline())&&e.canRun(),d=()=>ug(e.networkMode)&&e.canRun(),f=v=>{var _;n||(n=!0,(_=e.onSuccess)==null||_.call(e,v),s==null||s(),i.resolve(v))},h=v=>{var _;n||(n=!0,(_=e.onError)==null||_.call(e,v),s==null||s(),i.reject(v))},y=()=>new Promise(v=>{var _;s=m=>{(n||c())&&v(m)},(_=e.onPause)==null||_.call(e)}).then(()=>{var v;s=void 0,n||(v=e.onContinue)==null||v.call(e)}),w=()=>{if(n)return;let v;const _=r===0?e.initialPromise:void 0;try{v=_??e.fn()}catch(m){v=Promise.reject(m)}Promise.resolve(v).then(f).catch(m=>{var E;if(n)return;const p=e.retry??(Mo?0:3),g=e.retryDelay??X1,k=typeof g=="function"?g(r,m):g,b=p===!0||typeof p=="number"&&r<p||typeof p=="function"&&p(r,m);if(t||!b){h(m);return}r++,(E=e.onFail)==null||E.call(e,r,m),W1(k).then(()=>c()?void 0:y()).then(()=>{t?h(m):w()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?w():y().then(w),i)}}function Z1(){let e=[],t=0,r=o=>{o()},n=o=>{o()},s=o=>setTimeout(o,0);const i=o=>{t?e.push(o):s(()=>{r(o)})},a=()=>{const o=e;e=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var rt=Z1(),vn,nf,hg=(nf=class{constructor(){ce(this,vn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),B1(this.gcTime)&&ee(this,vn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mo?1/0:5*60*1e3))}clearGcTimeout(){C(this,vn)&&(clearTimeout(C(this,vn)),ee(this,vn,void 0))}},vn=new WeakMap,nf),cs,ds,St,Je,Ri,wn,$t,or,sf,e_=(sf=class extends hg{constructor(t){super();ce(this,$t);ce(this,cs);ce(this,ds);ce(this,St);ce(this,Je);ce(this,Ri);ce(this,wn);ee(this,wn,!1),ee(this,Ri,t.defaultOptions),this.setOptions(t.options),this.observers=[],ee(this,St,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ee(this,cs,r_(this.options)),this.state=t.state??C(this,cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Je))==null?void 0:t.promise}setOptions(t){this.options={...C(this,Ri),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,St).remove(this)}setData(t,r){const n=H1(this.state.data,t,this.options);return We(this,$t,or).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){We(this,$t,or).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,Je))==null?void 0:n.promise;return(s=C(this,Je))==null||s.cancel(t),r?r.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,cs))}isActive(){return this.observers.some(t=>q1(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!V1(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Je))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Je))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,St).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Je)&&(C(this,wn)?C(this,Je).cancel({revert:!0}):C(this,Je).cancelRetry()),this.scheduleGc()),C(this,St).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,$t,or).call(this,{type:"invalidate"})}fetch(t,r){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Je))return C(this,Je).continueRetry(),C(this,Je).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ee(this,wn,!0),n.signal)})},i=()=>{const f=og(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return s(h),ee(this,wn,!1),this.options.persister?this.options.persister(f,h,this):f(h)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(a),(l=this.options.behavior)==null||l.onFetch(a,this),ee(this,ds,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&We(this,$t,or).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=f=>{var h,y,w,v;El(f)&&f.silent||We(this,$t,or).call(this,{type:"error",error:f}),El(f)||((y=(h=C(this,St).config).onError)==null||y.call(h,f,this),(v=(w=C(this,St).config).onSettled)==null||v.call(w,this.state.data,f,this)),this.scheduleGc()};return ee(this,Je,dg({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,y,w,v;if(f===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(_){o(_);return}(y=(h=C(this,St).config).onSuccess)==null||y.call(h,f,this),(v=(w=C(this,St).config).onSettled)==null||v.call(w,f,this.state.error,this),this.scheduleGc()},onError:o,onFail:(f,h)=>{We(this,$t,or).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{We(this,$t,or).call(this,{type:"pause"})},onContinue:()=>{We(this,$t,or).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),C(this,Je).start()}},cs=new WeakMap,ds=new WeakMap,St=new WeakMap,Je=new WeakMap,Ri=new WeakMap,wn=new WeakMap,$t=new WeakSet,or=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...t_(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return El(s)&&s.revert&&C(this,ds)?{...C(this,ds),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),rt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,St).notify({query:this,type:"updated",action:t})})},sf);function t_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ug(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function r_(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Yt,af,n_=(af=class extends Uo{constructor(t={}){super();ce(this,Yt);this.config=t,ee(this,Yt,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Wc(s,r);let a=this.get(i);return a||(a=new e_({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(a)),a}add(t){C(this,Yt).has(t.queryHash)||(C(this,Yt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,Yt).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,Yt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,Yt).get(t)}getAll(){return[...C(this,Yt).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Fh(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Fh(t,n)):r}notify(t){rt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Yt=new WeakMap,af),Xt,Ze,xn,Zt,jr,of,s_=(of=class extends hg{constructor(t){super();ce(this,Zt);ce(this,Xt);ce(this,Ze);ce(this,xn);this.mutationId=t.mutationId,ee(this,Ze,t.mutationCache),ee(this,Xt,[]),this.state=t.state||i_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Xt).includes(t)||(C(this,Xt).push(t),this.clearGcTimeout(),C(this,Ze).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ee(this,Xt,C(this,Xt).filter(r=>r!==t)),this.scheduleGc(),C(this,Ze).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():C(this,Ze).remove(this))}continue(){var t;return((t=C(this,xn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,a,o,l,c,d,f,h,y,w,v,_,m,p,g,k,b,E,P;ee(this,xn,dg({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(A,G)=>{We(this,Zt,jr).call(this,{type:"failed",failureCount:A,error:G})},onPause:()=>{We(this,Zt,jr).call(this,{type:"pause"})},onContinue:()=>{We(this,Zt,jr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Ze).canRun(this)}));const r=this.state.status==="pending",n=!C(this,xn).canStart();try{if(!r){We(this,Zt,jr).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(s=C(this,Ze).config).onMutate)==null?void 0:i.call(s,t,this));const G=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));G!==this.state.context&&We(this,Zt,jr).call(this,{type:"pending",context:G,variables:t,isPaused:n})}const A=await C(this,xn).start();return await((c=(l=C(this,Ze).config).onSuccess)==null?void 0:c.call(l,A,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,A,t,this.state.context)),await((y=(h=C(this,Ze).config).onSettled)==null?void 0:y.call(h,A,null,this.state.variables,this.state.context,this)),await((v=(w=this.options).onSettled)==null?void 0:v.call(w,A,null,t,this.state.context)),We(this,Zt,jr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((m=(_=C(this,Ze).config).onError)==null?void 0:m.call(_,A,t,this.state.context,this)),await((g=(p=this.options).onError)==null?void 0:g.call(p,A,t,this.state.context)),await((b=(k=C(this,Ze).config).onSettled)==null?void 0:b.call(k,void 0,A,this.state.variables,this.state.context,this)),await((P=(E=this.options).onSettled)==null?void 0:P.call(E,void 0,A,t,this.state.context)),A}finally{We(this,Zt,jr).call(this,{type:"error",error:A})}}finally{C(this,Ze).runNext(this)}}},Xt=new WeakMap,Ze=new WeakMap,xn=new WeakMap,Zt=new WeakSet,jr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),rt.batch(()=>{C(this,Xt).forEach(n=>{n.onMutationUpdate(t)}),C(this,Ze).notify({mutation:this,type:"updated",action:t})})},of);function i_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pt,Ii,lf,a_=(lf=class extends Uo{constructor(t={}){super();ce(this,pt);ce(this,Ii);this.config=t,ee(this,pt,new Map),ee(this,Ii,Date.now())}build(t,r,n){const s=new s_({mutationCache:this,mutationId:++Qi(this,Ii)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=ga(t),n=C(this,pt).get(r)??[];n.push(t),C(this,pt).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=ga(t);if(C(this,pt).has(r)){const s=(n=C(this,pt).get(r))==null?void 0:n.filter(i=>i!==t);s&&(s.length===0?C(this,pt).delete(r):C(this,pt).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=C(this,pt).get(ga(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=C(this,pt).get(ga(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...C(this,pt).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Uh(r,n))}findAll(t={}){return this.getAll().filter(r=>Uh(t,r))}notify(t){rt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return rt.batch(()=>Promise.all(t.map(r=>r.continue().catch(Dt))))}},pt=new WeakMap,Ii=new WeakMap,lf);function ga(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Bh(e){return{onFetch:(t,r)=>{var d,f,h,y,w;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const _=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},m=og(t.options,t.fetchOptions),p=async(g,k,b)=>{if(v)return Promise.reject();if(k==null&&g.pages.length)return Promise.resolve(g);const E={queryKey:t.queryKey,pageParam:k,direction:b?"backward":"forward",meta:t.options.meta};_(E);const P=await m(E),{maxPages:A}=t.options,G=b?Q1:K1;return{pages:G(g.pages,P,A),pageParams:G(g.pageParams,k,A)}};if(s&&i.length){const g=s==="backward",k=g?o_:Vh,b={pages:i,pageParams:a},E=k(n,b);o=await p(b,E,g)}else{const g=e??i.length;do{const k=l===0?a[0]??n.initialPageParam:Vh(n,o);if(l>0&&k==null)break;o=await p(o,k),l++}while(l<g)}return o};t.options.persister?t.fetchFn=()=>{var v,_;return(_=(v=t.options).persister)==null?void 0:_.call(v,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=c}}}function Vh(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function o_(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ee,Lr,Dr,hs,fs,$r,ps,ms,uf,l_=(uf=class{constructor(e={}){ce(this,Ee);ce(this,Lr);ce(this,Dr);ce(this,hs);ce(this,fs);ce(this,$r);ce(this,ps);ce(this,ms);ee(this,Ee,e.queryCache||new n_),ee(this,Lr,e.mutationCache||new a_),ee(this,Dr,e.defaultOptions||{}),ee(this,hs,new Map),ee(this,fs,new Map),ee(this,$r,0)}mount(){Qi(this,$r)._++,C(this,$r)===1&&(ee(this,ps,lg.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ee).onFocus())})),ee(this,ms,oo.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ee).onOnline())})))}unmount(){var e,t;Qi(this,$r)._--,C(this,$r)===0&&((e=C(this,ps))==null||e.call(this),ee(this,ps,void 0),(t=C(this,ms))==null||t.call(this),ee(this,ms,void 0))}isFetching(e){return C(this,Ee).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,Lr).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Ee).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=C(this,Ee).build(this,r);return e.revalidateIfStale&&n.isStaleByTime($h(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return C(this,Ee).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,Ee).get(n.queryHash),i=s==null?void 0:s.state.data,a=z1(t,i);if(a!==void 0)return C(this,Ee).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(e,t,r){return rt.batch(()=>C(this,Ee).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Ee).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,Ee);rt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,Ee),n={type:"active",...e};return rt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=rt.batch(()=>C(this,Ee).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Dt).catch(Dt)}invalidateQueries(e={},t={}){return rt.batch(()=>{if(C(this,Ee).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=rt.batch(()=>C(this,Ee).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Dt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,Ee).build(this,t);return r.isStaleByTime($h(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dt).catch(Dt)}fetchInfiniteQuery(e){return e.behavior=Bh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dt).catch(Dt)}ensureInfiniteQueryData(e){return e.behavior=Bh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return oo.isOnline()?C(this,Lr).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Ee)}getMutationCache(){return C(this,Lr)}getDefaultOptions(){return C(this,Dr)}setDefaultOptions(e){ee(this,Dr,e)}setQueryDefaults(e,t){C(this,hs).set(Oi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,hs).values()];let r={};return t.forEach(n=>{Ai(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){C(this,fs).set(Oi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,fs).values()];let r={};return t.forEach(n=>{Ai(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Dr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Wc(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Hc&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Dr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Ee).clear(),C(this,Lr).clear()}},Ee=new WeakMap,Lr=new WeakMap,Dr=new WeakMap,hs=new WeakMap,fs=new WeakMap,$r=new WeakMap,ps=new WeakMap,ms=new WeakMap,uf),u_=N.createContext(void 0),c_=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),u.jsx(u_.Provider,{value:e,children:t}));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fg=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var h_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},l)=>N.createElement("svg",{ref:l,...h_,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:fg("lucide",s),...o},[...a.map(([c,d])=>N.createElement(c,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(e,t)=>{const r=N.forwardRef(({className:n,...s},i)=>N.createElement(f_,{ref:i,iconNode:t,className:fg(`lucide-${d_(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Ae("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=Ae("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=Ae("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Ae("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=Ae("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=Ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=Ae("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),__=()=>{const{user:e,profile:t,logout:r}=As(),{cartItems:n}=qc(),[s,i]=N.useState(!1),a=Ps(),o=c=>{if(a.pathname!=="/"){window.location.href=`/#${c}`;return}const d=document.getElementById(c);d==null||d.scrollIntoView({behavior:"smooth"}),i(!1)},l=async()=>{try{await r()}catch(c){console.error("Logout error:",c)}};return u.jsx("header",{className:"bg-white shadow-lg sticky top-0 z-40",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsxs(Qe,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 text-white p-2 rounded-lg",children:u.jsx(g_,{className:"h-6 w-6"})}),u.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Bridal Beauty"})]}),u.jsxs("nav",{className:"hidden md:flex items-center space-x-8",children:[u.jsx(Qe,{to:"/",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Home"}),u.jsx("button",{onClick:()=>o("about"),className:"text-gray-700 hover:text-primary-600 transition-colors",children:"About"}),u.jsx("button",{onClick:()=>o("services"),className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Services"}),u.jsx("button",{onClick:()=>o("portfolio"),className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Portfolio"}),u.jsx("button",{onClick:()=>o("testimonials"),className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Testimonials"}),u.jsx(Qe,{to:"/contact",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Contact"})]}),u.jsxs("div",{className:"flex items-center space-x-4",children:[e?u.jsxs(u.Fragment,{children:[u.jsxs(Qe,{to:"/dashboard",className:"relative text-gray-700 hover:text-primary-600 transition-colors",children:[u.jsx(uo,{className:"h-6 w-6"}),n.length>0&&u.jsx("span",{className:"absolute -top-2 -right-2 bg-primary-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n.length})]}),u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:"flex items-center gap-2 text-gray-700 hover:text-primary-600 transition-colors",children:[u.jsx(Kc,{className:"h-6 w-6"}),u.jsx("span",{className:"hidden sm:inline",children:(t==null?void 0:t.full_name)||"User"})]}),u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:u.jsxs("div",{className:"py-2",children:[u.jsx(Qe,{to:"/dashboard",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:"Dashboard"}),(t==null?void 0:t.role)==="admin"&&u.jsx(Qe,{to:"/admin",className:"block px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:"Admin Panel"}),u.jsx("button",{onClick:l,className:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:"Logout"})]})})]})]}):u.jsxs("div",{className:"hidden sm:flex items-center space-x-4",children:[u.jsx(Qe,{to:"/login",className:"text-gray-700 hover:text-primary-600 transition-colors",children:"Login"}),u.jsx(Qe,{to:"/signup",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Sign Up"})]}),u.jsx("button",{onClick:()=>i(!s),className:"md:hidden text-gray-700 hover:text-primary-600 transition-colors",children:s?u.jsx(x_,{className:"h-6 w-6"}):u.jsx(y_,{className:"h-6 w-6"})})]})]}),s&&u.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:u.jsxs("nav",{className:"space-y-2",children:[u.jsx(Qe,{to:"/",className:"block text-gray-700 hover:text-primary-600 transition-colors py-2",onClick:()=>i(!1),children:"Home"}),u.jsx("button",{onClick:()=>o("about"),className:"block text-gray-700 hover:text-primary-600 transition-colors py-2 text-left w-full",children:"About"}),u.jsx("button",{onClick:()=>o("services"),className:"block text-gray-700 hover:text-primary-600 transition-colors py-2 text-left w-full",children:"Services"}),u.jsx("button",{onClick:()=>o("portfolio"),className:"block text-gray-700 hover:text-primary-600 transition-colors py-2 text-left w-full",children:"Portfolio"}),u.jsx("button",{onClick:()=>o("testimonials"),className:"block text-gray-700 hover:text-primary-600 transition-colors py-2 text-left w-full",children:"Testimonials"}),u.jsx(Qe,{to:"/contact",className:"block text-gray-700 hover:text-primary-600 transition-colors py-2",onClick:()=>i(!1),children:"Contact"}),e?u.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[u.jsx(Qe,{to:"/dashboard",className:"block text-gray-700 hover:text-primary-600 transition-colors py-2",onClick:()=>i(!1),children:"Dashboard"}),(t==null?void 0:t.role)==="admin"&&u.jsx(Qe,{to:"/admin",className:"block text-gray-700 hover:text-primary-600 transition-colors py-2",onClick:()=>i(!1),children:"Admin Panel"}),u.jsx("button",{onClick:()=>{l(),i(!1)},className:"block text-gray-700 hover:text-primary-600 transition-colors py-2 text-left w-full",children:"Logout"})]}):u.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[u.jsx(Qe,{to:"/login",className:"block text-gray-700 hover:text-primary-600 transition-colors py-2",onClick:()=>i(!1),children:"Login"}),u.jsx(Qe,{to:"/signup",className:"block bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors text-center",onClick:()=>i(!1),children:"Sign Up"})]})]})})]})})},b_=()=>{const[e,t]=N.useState([]),[r,n]=N.useState([]),[s,i]=N.useState([]),[a,o]=N.useState(!0),[l,c]=N.useState(""),{addToCart:d}=qc(),{user:f}=As(),h=Oo();N.useEffect(()=>{(async()=>{try{o(!0);const[_,m,p]=await Promise.all([ae.from("services").select("*").eq("is_featured",!0),ae.from("testimonials").select("*").limit(6),ae.from("portfolio").select("*").limit(8)]);if(_.error)throw _.error;if(m.error)throw m.error;if(p.error)throw p.error;t(_.data||[]),n(m.data||[]),i(p.data||[])}catch(_){console.error("Error fetching data:",_),c(_.message)}finally{o(!1)}})()},[]);const y=v=>{const _=document.getElementById(v);_==null||_.scrollIntoView({behavior:"smooth"})},w=v=>{if(!f){ie.error("Please login to book a service"),h("/login");return}d(v),ie.success("Service added to cart!")};return a?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):l?u.jsxs("div",{className:"text-center py-20 text-red-600",children:["Error: ",l]}):u.jsxs("div",{className:"min-h-screen",children:[u.jsxs("section",{className:"relative py-20 px-4 bg-gradient-to-r from-primary-500 via-secondary-500 to-accent-500",children:[u.jsx("div",{className:"absolute inset-0 bg-black/20"}),u.jsxs("div",{className:"relative container mx-auto text-center text-white",children:[u.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 animate-fade-in",children:["Timeless Beauty",u.jsx("span",{className:"block text-secondary-200",children:"Redefined"})]}),u.jsx("p",{className:"text-xl md:text-2xl mb-8 max-w-3xl mx-auto opacity-90",children:"Transform your special day with our expert bridal makeup services. Professional artistry for the most beautiful you."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs("button",{onClick:()=>y("services"),className:"bg-white text-primary-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors flex items-center justify-center gap-2",children:["View Services ",u.jsx(p_,{className:"h-5 w-5"})]}),u.jsxs("button",{onClick:()=>y("contact"),className:"border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-primary-600 transition-colors flex items-center justify-center gap-2",children:["Book Consultation ",u.jsx(lo,{className:"h-5 w-5"})]})]})]})]}),u.jsx("section",{id:"about",className:"py-20 px-4",children:u.jsx("div",{className:"container mx-auto",children:u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-4xl font-bold mb-6 text-gray-900",children:["Creating Your Perfect",u.jsx("span",{className:"text-primary-600",children:" Bridal Look"})]}),u.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"With over 10 years of experience in bridal makeup artistry, we specialize in creating timeless, elegant looks that enhance your natural beauty. From traditional ceremonies to modern celebrations, we ensure you look radiant on your special day."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-primary-600"}),u.jsx("span",{className:"text-gray-700",children:"Professional certified makeup artists"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-primary-600"}),u.jsx("span",{className:"text-gray-700",children:"Premium quality products"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-primary-600"}),u.jsx("span",{className:"text-gray-700",children:"Customized looks for every bride"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-primary-600"}),u.jsx("span",{className:"text-gray-700",children:"On-location and studio services"})]})]})]}),u.jsx("div",{className:"relative",children:u.jsx("div",{className:"bg-gradient-to-br from-primary-100 to-secondary-100 rounded-2xl p-8",children:u.jsx("img",{src:"/api/placeholder/500/400",alt:"Bridal Makeup Artist",className:"rounded-lg shadow-lg w-full h-80 object-cover"})})})]})})}),u.jsx("section",{id:"services",className:"py-20 px-4 bg-gray-50",children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:["Our ",u.jsx("span",{className:"text-primary-600",children:"Services"})]}),u.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Choose from our comprehensive range of bridal beauty services"})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(v=>u.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[u.jsx("img",{src:v.image_url,alt:v.name,className:"w-full h-48 object-cover"}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:v.name}),u.jsx("span",{className:"text-sm text-gray-500",children:v.duration})]}),u.jsx("p",{className:"text-gray-600 mb-4",children:v.description}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["$",v.price]}),u.jsx("button",{onClick:()=>w(v),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Book Now"})]})]})]},v.id))})]})}),u.jsx("section",{id:"portfolio",className:"py-20 px-4",children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:["Our ",u.jsx("span",{className:"text-primary-600",children:"Portfolio"})]}),u.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover our stunning bridal transformations"})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(v=>u.jsxs("div",{className:"group relative overflow-hidden rounded-lg shadow-lg",children:[u.jsx("img",{src:v.image_url,alt:v.title,className:"w-full h-64 object-cover group-hover:scale-105 transition-transform duration-300"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:u.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:[u.jsx("h3",{className:"font-semibold",children:v.title}),u.jsx("p",{className:"text-sm opacity-90",children:v.category})]})})]},v.id))})]})}),u.jsx("section",{id:"testimonials",className:"py-20 px-4 bg-gradient-to-r from-primary-50 to-secondary-50",children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h2",{className:"text-4xl font-bold mb-4 text-gray-900",children:["What Our ",u.jsx("span",{className:"text-primary-600",children:"Brides"})," Say"]}),u.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Read reviews from our happy brides"})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map(v=>u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx("img",{src:v.image_url,alt:v.name,className:"w-12 h-12 rounded-full object-cover mr-4"}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-900",children:v.name}),u.jsx("div",{className:"flex items-center",children:[...Array(5)].map((_,m)=>u.jsx(gg,{className:`h-4 w-4 ${m<v.rating?"text-yellow-400 fill-current":"text-gray-300"}`},m))})]})]}),u.jsx("p",{className:"text-gray-600",children:v.review})]},v.id))})]})}),u.jsx("section",{id:"contact",className:"py-20 px-4 bg-gray-900 text-white",children:u.jsxs("div",{className:"container mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsxs("h2",{className:"text-4xl font-bold mb-4",children:["Get In ",u.jsx("span",{className:"text-primary-400",children:"Touch"})]}),u.jsx("p",{className:"text-lg text-gray-300 max-w-2xl mx-auto",children:"Ready to book your bridal makeup consultation? Contact us today!"})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Contact Information"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(mg,{className:"h-5 w-5 text-primary-400"}),u.jsx("span",{children:"+1 (555) 123-4567"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(zo,{className:"h-5 w-5 text-primary-400"}),u.jsx("span",{children:"info@bridalbeauty.com"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(pg,{className:"h-5 w-5 text-primary-400"}),u.jsx("span",{children:"123 Beauty Lane, Bridal City, BC 12345"})]})]}),u.jsxs("div",{className:"mt-8",children:[u.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Business Hours"}),u.jsxs("div",{className:"space-y-2 text-gray-300",children:[u.jsx("p",{children:"Monday - Friday: 9:00 AM - 7:00 PM"}),u.jsx("p",{children:"Saturday: 8:00 AM - 8:00 PM"}),u.jsx("p",{children:"Sunday: 10:00 AM - 6:00 PM"})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-6",children:"Send a Message"}),u.jsxs("form",{className:"space-y-4",children:[u.jsx("div",{children:u.jsx("input",{type:"text",placeholder:"Your Name",className:"w-full px-4 py-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})}),u.jsx("div",{children:u.jsx("input",{type:"email",placeholder:"Your Email",className:"w-full px-4 py-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})}),u.jsx("div",{children:u.jsx("input",{type:"text",placeholder:"Wedding Date",className:"w-full px-4 py-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})}),u.jsx("div",{children:u.jsx("textarea",{placeholder:"Your Message",rows:4,className:"w-full px-4 py-3 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 resize-none"})}),u.jsx("button",{type:"submit",className:"w-full bg-primary-600 text-white py-3 rounded-lg hover:bg-primary-700 transition-colors font-semibold",children:"Send Message"})]})]})]})]})})]})},k_=()=>{const[e,t]=N.useState(""),[r,n]=N.useState(""),[s,i]=N.useState(!1),[a,o]=N.useState(!1),[l,c]=N.useState(""),d=async f=>{if(f.preventDefault(),o(!0),c(""),!e.trim()){c("Email is required"),o(!1);return}if(!e.includes("@")){c("Please enter a valid email"),o(!1);return}if(!r.trim()){c("Password is required"),o(!1);return}try{console.log("Attempting login for:",e);const{data:h,error:y}=await ae.auth.signInWithPassword({email:e.trim(),password:r.trim()});if(y)throw console.error("Login error:",y),y;h.user&&(console.log("Login successful for user:",h.user.id),ie.success("Login successful!"))}catch(h){console.error("Login failed:",h),c("Invalid email or password. Please try again."),ie.error("Login failed. Please check your credentials.")}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-br from-primary-50 via-secondary-50 to-accent-50",children:u.jsx("div",{className:"max-w-md w-full space-y-8",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),u.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),u.jsxs("form",{onSubmit:d,className:"mt-8 space-y-6",children:[l&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),u.jsx("input",{id:"email",type:"email",value:e,onChange:f=>t(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Uu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),u.jsx("input",{id:"password",type:s?"text":"password",value:r,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),u.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?u.jsx($u,{className:"h-5 w-5"}):u.jsx(Fu,{className:"h-5 w-5"})})]})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Signing in...":"Sign In"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",u.jsx(Qe,{to:"/signup",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign up"})]})})]})})})},S_=()=>{const[e,t]=N.useState({fullName:"",email:"",password:"",confirmPassword:""}),[r,n]=N.useState(!1),[s,i]=N.useState(!1),[a,o]=N.useState(!1),[l,c]=N.useState(""),d=h=>{t({...e,[h.target.name]:h.target.value})},f=async h=>{if(h.preventDefault(),o(!0),c(""),!e.fullName.trim()){c("Full name is required"),o(!1);return}if(!e.email.trim()){c("Email is required"),o(!1);return}if(!e.email.includes("@")){c("Please enter a valid email"),o(!1);return}if(!e.password.trim()){c("Password is required"),o(!1);return}if(e.password.length<6){c("Password must be at least 6 characters"),o(!1);return}if(e.password!==e.confirmPassword){c("Passwords do not match"),o(!1);return}try{console.log("Attempting signup for:",e.email);const{data:y,error:w}=await ae.auth.signUp({email:e.email.trim(),password:e.password.trim(),options:{data:{full_name:e.fullName.trim()}}});if(w)throw console.error("Signup error:",w),w;y.user&&(console.log("Signup successful for user:",y.user.id),ie.success("Account created successfully! Please check your email for verification."))}catch(y){console.error("Signup failed:",y),c(y.message||"Failed to create account. Please try again."),ie.error("Signup failed. Please try again.")}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-br from-primary-50 via-secondary-50 to-accent-50",children:u.jsx("div",{className:"max-w-md w-full space-y-8",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),u.jsx("p",{className:"text-gray-600",children:"Join our bridal beauty community"})]}),u.jsxs("form",{onSubmit:f,className:"mt-8 space-y-6",children:[l&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(Kc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),u.jsx("input",{id:"fullName",name:"fullName",type:"text",value:e.fullName,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),u.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Uu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),u.jsx("input",{id:"password",name:"password",type:r?"text":"password",value:e.password,onChange:d,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Create a password",required:!0}),u.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?u.jsx($u,{className:"h-5 w-5"}):u.jsx(Fu,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Uu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:s?"text":"password",value:e.confirmPassword,onChange:d,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm your password",required:!0}),u.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?u.jsx($u,{className:"h-5 w-5"}):u.jsx(Fu,{className:"h-5 w-5"})})]})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a?"Creating Account...":"Create Account"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",u.jsx(Qe,{to:"/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Sign in"})]})})]})})})},j_=()=>{const{user:e,profile:t,loading:r}=As(),{cartItems:n,removeFromCart:s,updateQuantity:i,clearCart:a}=qc(),[o,l]=N.useState([]),[c,d]=N.useState(!0),[f,h]=N.useState("profile"),[y,w]=N.useState(!1),[v,_]=N.useState({full_name:"",email:"",phone:"",wedding_date:"",notes:""});N.useEffect(()=>{t&&_({full_name:t.full_name||"",email:t.email||"",phone:t.phone||"",wedding_date:t.wedding_date||"",notes:t.notes||""})},[t]),N.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{d(!0);const{data:b,error:E}=await ae.from("bookings").select(`
          *,
          services (name, duration)
        `).eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(E)throw console.error("Error fetching bookings:",E),E;l(b||[])}catch(b){console.error("Error fetching bookings:",b),ie.error("Failed to load bookings")}finally{d(!1)}},p=async b=>{if(b.preventDefault(),!v.full_name.trim()){ie.error("Full name is required");return}if(!v.email.trim()){ie.error("Email is required");return}try{const{data:E,error:P}=await ae.from("profiles").update({full_name:v.full_name.trim(),phone:v.phone.trim(),wedding_date:v.wedding_date||null,notes:v.notes.trim()}).eq("id",e==null?void 0:e.id).select();if(P)throw console.error("Profile update error:",P),P;ie.success("Profile updated successfully!"),w(!1)}catch(E){console.error("Profile update failed:",E),ie.error("Failed to update profile")}},g=async()=>{if(n.length===0){ie.error("Your cart is empty");return}try{const b=n.reduce((P,A)=>P+A.price*A.quantity,0),E=n.map(P=>ae.from("bookings").insert({user_id:e==null?void 0:e.id,service_id:P.product_id,booking_date:new Date().toISOString().split("T")[0],booking_time:"10:00",status:"pending",total_amount:P.price*P.quantity}));await Promise.all(E),a(),ie.success("Booking confirmed! We will contact you soon."),h("bookings"),m()}catch(b){console.error("Checkout failed:",b),ie.error("Failed to complete booking")}},k=async b=>{try{const{error:E}=await ae.from("bookings").update({status:"cancelled"}).eq("id",b);if(E)throw E;ie.success("Booking cancelled successfully"),m()}catch(E){console.error("Cancel booking failed:",E),ie.error("Failed to cancel booking")}};return r?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):t?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-secondary-50 to-accent-50 py-8",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 p-6",children:[u.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Welcome back, ",t.full_name,"!"]}),u.jsx("p",{className:"text-primary-100",children:"Manage your bridal beauty journey"})]}),u.jsxs("div",{className:"flex border-b",children:[u.jsxs("button",{onClick:()=>h("profile"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${f==="profile"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-primary-600"}`,children:[u.jsx(Kc,{className:"h-5 w-5"}),"Profile"]}),u.jsxs("button",{onClick:()=>h("bookings"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${f==="bookings"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-primary-600"}`,children:[u.jsx(lo,{className:"h-5 w-5"}),"Bookings"]}),u.jsxs("button",{onClick:()=>h("cart"),className:`flex items-center gap-2 px-6 py-4 font-medium transition-colors ${f==="cart"?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-primary-600"}`,children:[u.jsx(uo,{className:"h-5 w-5"}),"Cart (",n.length,")"]})]}),u.jsxs("div",{className:"p-6",children:[f==="profile"&&u.jsxs("div",{className:"max-w-2xl",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"}),u.jsxs("button",{onClick:()=>w(!y),className:"flex items-center gap-2 bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[u.jsx(Ta,{className:"h-4 w-4"}),y?"Cancel":"Edit"]})]}),y?u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("input",{type:"text",value:v.full_name,onChange:b=>_({...v,full_name:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:v.email,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",disabled:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),u.jsx("input",{type:"tel",value:v.phone,onChange:b=>_({...v,phone:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wedding Date"}),u.jsx("input",{type:"date",value:v.wedding_date,onChange:b=>_({...v,wedding_date:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("textarea",{value:v.notes,onChange:b=>_({...v,notes:b.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Any special requests or notes..."})]}),u.jsx("button",{type:"submit",className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:"Update Profile"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("p",{className:"text-gray-900",children:t.full_name||"Not provided"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("p",{className:"text-gray-900",children:t.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),u.jsx("p",{className:"text-gray-900",children:t.phone||"Not provided"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Wedding Date"}),u.jsx("p",{className:"text-gray-900",children:t.wedding_date||"Not provided"})]})]}),t.notes&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),u.jsx("p",{className:"text-gray-900",children:t.notes})]})]})]}),f==="bookings"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Your Bookings"}),c?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(lo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"No bookings yet. Book your first service!"})]}):u.jsx("div",{className:"space-y-4",children:o.map(b=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:b.services.name}),u.jsxs("p",{className:"text-gray-600",children:["Duration: ",b.services.duration]}),u.jsxs("p",{className:"text-gray-600",children:["Date: ",b.booking_date," at ",b.booking_time]}),u.jsxs("p",{className:"text-gray-600",children:["Amount: $",b.total_amount]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${b.status==="confirmed"?"bg-green-100 text-green-800":b.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:b.status}),b.status==="pending"&&u.jsx("button",{onClick:()=>k(b.id),className:"text-red-600 hover:text-red-800 p-1",children:u.jsx(es,{className:"h-4 w-4"})})]})]})},b.id))})]}),f==="cart"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Your Cart"}),n.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(uo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Your cart is empty. Add some services!"})]}):u.jsxs("div",{className:"space-y-4",children:[n.map(b=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("img",{src:b.image_url,alt:b.name,className:"w-16 h-16 object-cover rounded-lg"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:b.name}),u.jsxs("p",{className:"text-primary-600 font-medium",children:["$",b.price]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>i(b.id,Math.max(1,b.quantity-1)),className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 hover:bg-gray-300",children:"-"}),u.jsx("span",{className:"w-8 text-center",children:b.quantity}),u.jsx("button",{onClick:()=>i(b.id,b.quantity+1),className:"w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-600 hover:bg-gray-300",children:"+"}),u.jsx("button",{onClick:()=>s(b.id),className:"ml-4 text-red-600 hover:text-red-800",children:u.jsx(es,{className:"h-4 w-4"})})]})]})},b.id)),u.jsx("div",{className:"border-t pt-4",children:u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("span",{className:"text-lg font-semibold",children:["Total: $",n.reduce((b,E)=>b+E.price*E.quantity,0)]}),u.jsx("button",{onClick:g,className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Book Services"})]})})]})]})]})]})})})}):u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})})},E_=()=>{const{profile:e,loading:t}=As(),[r,n]=N.useState([]),[s,i]=N.useState([]),[a,o]=N.useState([]),[l,c]=N.useState([]),[d,f]=N.useState([]),[h,y]=N.useState({totalUsers:0,totalBookings:0,totalServices:0,totalRevenue:0}),[w,v]=N.useState(!0),[_,m]=N.useState("overview"),[p,g]=N.useState(null),[k,b]=N.useState(!1),[E,P]=N.useState("");N.useEffect(()=>{(e==null?void 0:e.role)==="admin"?A():e&&e.role},[e]);const A=async()=>{var O,Q,B,le,T,M,W,V,H;try{v(!0);const[te,de,Ie,re,Fe]=await Promise.all([ae.from("services").select("*").order("created_at",{ascending:!1}),ae.from("bookings").select("*").order("created_at",{ascending:!1}),ae.from("testimonials").select("*").order("created_at",{ascending:!1}),ae.from("portfolio").select("*").order("created_at",{ascending:!1}),ae.from("profiles").select("*")]);if(te.error)throw console.error("Services error:",te.error),te.error;if(de.error)throw console.error("Bookings error:",de.error),de.error;if(Ie.error)throw console.error("Testimonials error:",Ie.error),Ie.error;if(re.error)throw console.error("Portfolio error:",re.error),re.error;if(Fe.error)throw console.error("Profiles error:",Fe.error),Fe.error;console.log("Services loaded:",((O=te.data)==null?void 0:O.length)||0),console.log("Bookings loaded:",((Q=de.data)==null?void 0:Q.length)||0),console.log("Testimonials loaded:",((B=Ie.data)==null?void 0:B.length)||0),console.log("Portfolio loaded:",((le=re.data)==null?void 0:le.length)||0),console.log("Profiles loaded:",((T=Fe.data)==null?void 0:T.length)||0),n(te.data||[]),i(de.data||[]),o(Ie.data||[]),c(re.data||[]),f(Fe.data||[]);const At=((M=de.data)==null?void 0:M.reduce((bt,sr)=>bt+(sr.total_amount||0),0))||0;y({totalUsers:((W=Fe.data)==null?void 0:W.filter(bt=>bt.role==="user").length)||0,totalBookings:((V=de.data)==null?void 0:V.length)||0,totalServices:((H=te.data)==null?void 0:H.length)||0,totalRevenue:At})}catch(te){console.error("Error fetching admin data:",te),ie.error("Failed to load dashboard data")}finally{v(!1)}},G=(O,Q)=>{g(O),P(Q)},z=async O=>{try{const{data:Q,error:B}=await ae.from(E).update(O).eq("id",p.id).select();if(B)throw console.error("Update error:",B),B;ie.success("Item updated successfully!"),g(null),P(""),A()}catch(Q){console.error("Save failed:",Q),ie.error("Failed to update item")}},ue=async(O,Q)=>{if(confirm("Are you sure you want to delete this item?"))try{const{error:B}=await ae.from(Q).delete().eq("id",O);if(B)throw console.error("Delete error:",B),B;ie.success("Item deleted successfully!"),A()}catch(B){console.error("Delete failed:",B),ie.error("Failed to delete item")}},K=async O=>{try{const{data:Q,error:B}=await ae.from(E).insert(O).select();if(B)throw console.error("Insert error:",B),B;ie.success("Item added successfully!"),b(!1),P(""),A()}catch(Q){console.error("Add failed:",Q),ie.error("Failed to add item")}},J=async(O,Q)=>{try{const{error:B}=await ae.from("bookings").update({status:Q}).eq("id",O);if(B)throw B;ie.success("Booking status updated!"),A()}catch(B){console.error("Status update failed:",B),ie.error("Failed to update booking status")}};return t?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):!e||e.role!=="admin"?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-secondary-50 to-accent-50 py-8",children:[u.jsx("div",{className:"container mx-auto px-4",children:u.jsx("div",{className:"max-w-7xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[u.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 p-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Admin Dashboard"}),u.jsx("p",{className:"text-primary-100",children:"Manage your bridal makeup business"})]}),u.jsx("div",{className:"flex border-b overflow-x-auto",children:["overview","services","bookings","testimonials","portfolio","users"].map(O=>u.jsx("button",{onClick:()=>m(O),className:`px-6 py-4 font-medium whitespace-nowrap transition-colors ${_===O?"border-b-2 border-primary-600 text-primary-600":"text-gray-600 hover:text-primary-600"}`,children:O.charAt(0).toUpperCase()+O.slice(1)},O))}),u.jsx("div",{className:"p-6",children:w?u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{children:[_==="overview"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Overview"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[u.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg p-6 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-primary-100",children:"Total Users"}),u.jsx("p",{className:"text-3xl font-bold",children:h.totalUsers})]}),u.jsx(w_,{className:"h-8 w-8 text-primary-200"})]})}),u.jsx("div",{className:"bg-gradient-to-r from-secondary-500 to-secondary-600 rounded-lg p-6 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-secondary-100",children:"Total Bookings"}),u.jsx("p",{className:"text-3xl font-bold",children:h.totalBookings})]}),u.jsx(lo,{className:"h-8 w-8 text-secondary-200"})]})}),u.jsx("div",{className:"bg-gradient-to-r from-accent-500 to-accent-600 rounded-lg p-6 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-accent-100",children:"Total Services"}),u.jsx("p",{className:"text-3xl font-bold",children:h.totalServices})]}),u.jsx(uo,{className:"h-8 w-8 text-accent-200"})]})}),u.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-lg p-6 text-white",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-green-100",children:"Total Revenue"}),u.jsxs("p",{className:"text-3xl font-bold",children:["$",h.totalRevenue]})]}),u.jsx(m_,{className:"h-8 w-8 text-green-200"})]})})]})]}),_==="services"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Services"}),u.jsxs("button",{onClick:()=>{b(!0),P("services")},className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2",children:[u.jsx(Nl,{className:"h-4 w-4"}),"Add Service"]})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(O=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[u.jsx("img",{src:O.image_url,alt:O.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:O.name}),u.jsx("p",{className:"text-gray-600 text-sm mb-2",children:O.description}),u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("span",{className:"text-primary-600 font-medium",children:["$",O.price]}),u.jsx("span",{className:"text-sm text-gray-500",children:O.duration})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>G(O,"services"),className:"text-blue-600 hover:text-blue-800 p-1",children:u.jsx(Ta,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>ue(O.id,"services"),className:"text-red-600 hover:text-red-800 p-1",children:u.jsx(es,{className:"h-4 w-4"})})]})]},O.id))})]}),_==="bookings"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Bookings"}),u.jsx("div",{className:"space-y-4",children:s.map(O=>{const Q=d.find(le=>le.id===O.user_id),B=r.find(le=>le.id===O.service_id);return u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:(B==null?void 0:B.name)||"Unknown Service"}),u.jsxs("p",{className:"text-gray-600",children:["Customer: ",(Q==null?void 0:Q.full_name)||"Unknown Customer"]}),u.jsxs("p",{className:"text-gray-600",children:["Email: ",(Q==null?void 0:Q.email)||"Unknown Email"]}),u.jsxs("p",{className:"text-gray-600",children:["Date: ",O.booking_date," at ",O.booking_time]}),u.jsxs("p",{className:"text-gray-600",children:["Amount: $",O.total_amount]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("select",{value:O.status,onChange:le=>J(O.id,le.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:[u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"confirmed",children:"Confirmed"}),u.jsx("option",{value:"cancelled",children:"Cancelled"})]}),u.jsx("button",{onClick:()=>ue(O.id,"bookings"),className:"text-red-600 hover:text-red-800 p-1",children:u.jsx(es,{className:"h-4 w-4"})})]})]})},O.id)})})]}),_==="testimonials"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Testimonials"}),u.jsxs("button",{onClick:()=>{b(!0),P("testimonials")},className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2",children:[u.jsx(Nl,{className:"h-4 w-4"}),"Add Testimonial"]})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(O=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[u.jsxs("div",{className:"flex items-center mb-3",children:[u.jsx("img",{src:O.image_url,alt:O.name,className:"w-10 h-10 rounded-full object-cover mr-3"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:O.name}),u.jsx("div",{className:"flex items-center",children:[...Array(5)].map((Q,B)=>u.jsx(gg,{className:`h-4 w-4 ${B<O.rating?"text-yellow-400 fill-current":"text-gray-300"}`},B))})]})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-3",children:O.review}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>G(O,"testimonials"),className:"text-blue-600 hover:text-blue-800 p-1",children:u.jsx(Ta,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>ue(O.id,"testimonials"),className:"text-red-600 hover:text-red-800 p-1",children:u.jsx(es,{className:"h-4 w-4"})})]})]},O.id))})]}),_==="portfolio"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Portfolio"}),u.jsxs("button",{onClick:()=>{b(!0),P("portfolio")},className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors flex items-center gap-2",children:[u.jsx(Nl,{className:"h-4 w-4"}),"Add Portfolio Item"]})]}),u.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(O=>u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[u.jsx("img",{src:O.image_url,alt:O.title,className:"w-full h-32 object-cover rounded-lg mb-3"}),u.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:O.title}),u.jsx("p",{className:"text-gray-600 text-sm mb-2",children:O.description}),u.jsx("p",{className:"text-gray-500 text-sm mb-3",children:O.category}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>G(O,"portfolio"),className:"text-blue-600 hover:text-blue-800 p-1",children:u.jsx(Ta,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>ue(O.id,"portfolio"),className:"text-red-600 hover:text-red-800 p-1",children:u.jsx(es,{className:"h-4 w-4"})})]})]},O.id))})]}),_==="users"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Users"}),u.jsx("div",{className:"space-y-4",children:d.filter(O=>O.role==="user").map(O=>u.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:O.full_name}),u.jsx("p",{className:"text-gray-600",children:O.email}),O.phone&&u.jsxs("p",{className:"text-gray-600",children:["Phone: ",O.phone]}),O.wedding_date&&u.jsxs("p",{className:"text-gray-600",children:["Wedding Date: ",O.wedding_date]}),O.notes&&u.jsxs("p",{className:"text-gray-600",children:["Notes: ",O.notes]})]}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:O.role})})]})},O.id))})]})]})})]})})}),p&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Edit ",E]}),u.jsx(N_,{item:p,table:E,onSave:z,onCancel:()=>g(null)})]})}),k&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[u.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Add ",E]}),u.jsx(C_,{table:E,onAdd:K,onCancel:()=>b(!1)})]})})]})},N_=({item:e,table:t,onSave:r,onCancel:n})=>{const[s,i]=N.useState(e),a=l=>{l.preventDefault(),r(s)},o=l=>{const{name:c,value:d,type:f}=l.target;i({...s,[c]:f==="number"?parseFloat(d):d})};return u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[t==="services"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"name",value:s.name,onChange:o,placeholder:"Service Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("textarea",{name:"description",value:s.description,onChange:o,placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0}),u.jsx("input",{name:"price",type:"number",value:s.price,onChange:o,placeholder:"Price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"duration",value:s.duration,onChange:o,placeholder:"Duration",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"image_url",value:s.image_url,onChange:o,placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"category",value:s.category,onChange:o,placeholder:"Category",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),t==="testimonials"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"name",value:s.name,onChange:o,placeholder:"Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("textarea",{name:"review",value:s.review,onChange:o,placeholder:"Review",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0}),u.jsx("input",{name:"rating",type:"number",min:"1",max:"5",value:s.rating,onChange:o,placeholder:"Rating (1-5)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"image_url",value:s.image_url,onChange:o,placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),t==="portfolio"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"title",value:s.title,onChange:o,placeholder:"Title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("textarea",{name:"description",value:s.description,onChange:o,placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0}),u.jsx("input",{name:"image_url",value:s.image_url,onChange:o,placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"category",value:s.category,onChange:o,placeholder:"Category",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"submit",className:"flex-1 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors",children:"Save"}),u.jsx("button",{type:"button",onClick:n,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})},C_=({table:e,onAdd:t,onCancel:r})=>{const[n,s]=N.useState({}),i=o=>{o.preventDefault(),t(n)},a=o=>{const{name:l,value:c,type:d}=o.target;s({...n,[l]:d==="number"?parseFloat(c):c})};return u.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e==="services"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"name",value:n.name||"",onChange:a,placeholder:"Service Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("textarea",{name:"description",value:n.description||"",onChange:a,placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0}),u.jsx("input",{name:"price",type:"number",value:n.price||"",onChange:a,placeholder:"Price",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"duration",value:n.duration||"",onChange:a,placeholder:"Duration",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"image_url",value:n.image_url||"",onChange:a,placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"category",value:n.category||"",onChange:a,placeholder:"Category",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),e==="testimonials"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"name",value:n.name||"",onChange:a,placeholder:"Name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("textarea",{name:"review",value:n.review||"",onChange:a,placeholder:"Review",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0}),u.jsx("input",{name:"rating",type:"number",min:"1",max:"5",value:n.rating||"",onChange:a,placeholder:"Rating (1-5)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"image_url",value:n.image_url||"",onChange:a,placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),e==="portfolio"&&u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"title",value:n.title||"",onChange:a,placeholder:"Title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("textarea",{name:"description",value:n.description||"",onChange:a,placeholder:"Description",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:3,required:!0}),u.jsx("input",{name:"image_url",value:n.image_url||"",onChange:a,placeholder:"Image URL",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0}),u.jsx("input",{name:"category",value:n.category||"",onChange:a,placeholder:"Category",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"submit",className:"flex-1 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors",children:"Add"}),u.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})};var Vi=e=>e.type==="checkbox",gn=e=>e instanceof Date,tt=e=>e==null;const yg=e=>typeof e=="object";var Oe=e=>!tt(e)&&!Array.isArray(e)&&yg(e)&&!gn(e),P_=e=>Oe(e)&&e.target?Vi(e.target)?e.target.checked:e.target.value:e,T_=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,O_=(e,t)=>e.has(T_(t)),A_=e=>{const t=e.constructor&&e.constructor.prototype;return Oe(t)&&t.hasOwnProperty("isPrototypeOf")},Qc=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kt(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Qc&&(e instanceof Blob||e instanceof FileList))&&(r||Oe(e)))if(t=r?[]:{},!r&&!A_(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=kt(e[n]));else return e;return t}var Bo=e=>Array.isArray(e)?e.filter(Boolean):[],Ce=e=>e===void 0,U=(e,t,r)=>{if(!t||!Oe(e))return r;const n=Bo(t.split(/[,[\].]+?/)).reduce((s,i)=>tt(s)?s:s[i],e);return Ce(n)||n===e?Ce(e[t])?r:e[t]:n},Jt=e=>typeof e=="boolean",Gc=e=>/^\w*$/.test(e),vg=e=>Bo(e.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(e,t,r)=>{let n=-1;const s=Gc(t)?[t]:vg(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let l=r;if(n!==a){const c=e[o];l=Oe(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(o==="__proto__")return;e[o]=l,e=e[o]}return e};const qh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ir={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};L.createContext(null);var R_=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==zt.all&&(t._proxyFormState[a]=!n||zt.all),e[a]}});return s},ot=e=>Oe(e)&&!Object.keys(e).length,I_=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ot(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===zt.all)},Oa=e=>Array.isArray(e)?e:[e];function L_(e){const t=L.useRef(e);t.current=e,L.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var tr=e=>typeof e=="string",D_=(e,t,r,n,s)=>tr(e)?(n&&t.watch.add(e),U(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),U(r,i))):(n&&(t.watchAll=!0),r),$_=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Wh=e=>({isOnSubmit:!e||e===zt.onSubmit,isOnBlur:e===zt.onBlur,isOnChange:e===zt.onChange,isOnAll:e===zt.all,isOnTouch:e===zt.onTouched}),Hh=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ci=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=U(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(ci(o,t))break}else if(Oe(o)&&ci(o,t))break}}};var F_=(e,t,r)=>{const n=Oa(U(e,r));return we(n,"root",t[r]),we(e,r,n),e},Jc=e=>e.type==="file",fr=e=>typeof e=="function",co=e=>{if(!Qc)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Aa=e=>tr(e),Yc=e=>e.type==="radio",ho=e=>e instanceof RegExp;const Kh={value:!1,isValid:!1},Qh={value:!0,isValid:!0};var wg=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ce(e[0].attributes.value)?Ce(e[0].value)||e[0].value===""?Qh:{value:e[0].value,isValid:!0}:Qh:Kh}return Kh};const Gh={isValid:!1,value:null};var xg=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Gh):Gh;function Jh(e,t,r="validate"){if(Aa(e)||Array.isArray(e)&&e.every(Aa)||Jt(e)&&!e)return{type:r,message:Aa(e)?e:"",ref:t}}var Un=e=>Oe(e)&&!ho(e)?e:{value:e,message:""},Yh=async(e,t,r,n,s)=>{const{ref:i,refs:a,required:o,maxLength:l,minLength:c,min:d,max:f,pattern:h,validate:y,name:w,valueAsNumber:v,mount:_,disabled:m}=e._f,p=U(t,w);if(!_||m)return{};const g=a?a[0]:i,k=K=>{n&&g.reportValidity&&(g.setCustomValidity(Jt(K)?"":K||""),g.reportValidity())},b={},E=Yc(i),P=Vi(i),A=E||P,G=(v||Jc(i))&&Ce(i.value)&&Ce(p)||co(i)&&i.value===""||p===""||Array.isArray(p)&&!p.length,z=$_.bind(null,w,r,b),ue=(K,J,O,Q=ir.maxLength,B=ir.minLength)=>{const le=K?J:O;b[w]={type:K?Q:B,message:le,ref:i,...z(K?Q:B,le)}};if(s?!Array.isArray(p)||!p.length:o&&(!A&&(G||tt(p))||Jt(p)&&!p||P&&!wg(a).isValid||E&&!xg(a).isValid)){const{value:K,message:J}=Aa(o)?{value:!!o,message:o}:Un(o);if(K&&(b[w]={type:ir.required,message:J,ref:g,...z(ir.required,J)},!r))return k(J),b}if(!G&&(!tt(d)||!tt(f))){let K,J;const O=Un(f),Q=Un(d);if(!tt(p)&&!isNaN(p)){const B=i.valueAsNumber||p&&+p;tt(O.value)||(K=B>O.value),tt(Q.value)||(J=B<Q.value)}else{const B=i.valueAsDate||new Date(p),le=W=>new Date(new Date().toDateString()+" "+W),T=i.type=="time",M=i.type=="week";tr(O.value)&&p&&(K=T?le(p)>le(O.value):M?p>O.value:B>new Date(O.value)),tr(Q.value)&&p&&(J=T?le(p)<le(Q.value):M?p<Q.value:B<new Date(Q.value))}if((K||J)&&(ue(!!K,O.message,Q.message,ir.max,ir.min),!r))return k(b[w].message),b}if((l||c)&&!G&&(tr(p)||s&&Array.isArray(p))){const K=Un(l),J=Un(c),O=!tt(K.value)&&p.length>+K.value,Q=!tt(J.value)&&p.length<+J.value;if((O||Q)&&(ue(O,K.message,J.message),!r))return k(b[w].message),b}if(h&&!G&&tr(p)){const{value:K,message:J}=Un(h);if(ho(K)&&!p.match(K)&&(b[w]={type:ir.pattern,message:J,ref:i,...z(ir.pattern,J)},!r))return k(J),b}if(y){if(fr(y)){const K=await y(p,t),J=Jh(K,g);if(J&&(b[w]={...J,...z(ir.validate,J.message)},!r))return k(J.message),b}else if(Oe(y)){let K={};for(const J in y){if(!ot(K)&&!r)break;const O=Jh(await y[J](p,t),g,J);O&&(K={...O,...z(J,O.message)},k(O.message),r&&(b[w]=K))}if(!ot(K)&&(b[w]={ref:g,...K},!r))return b}}return k(!0),b};function U_(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ce(e)?n++:e[t[n++]];return e}function M_(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ce(e[t]))return!1;return!0}function Le(e,t){const r=Array.isArray(t)?t:Gc(t)?[t]:vg(t),n=r.length===1?e:U_(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Oe(n)&&ot(n)||Array.isArray(n)&&M_(n))&&Le(e,r.slice(0,-1)),e}var Cl=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},Mu=e=>tt(e)||!yg(e);function Ar(e,t){if(Mu(e)||Mu(t))return e===t;if(gn(e)&&gn(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=t[s];if(gn(i)&&gn(a)||Oe(i)&&Oe(a)||Array.isArray(i)&&Array.isArray(a)?!Ar(i,a):i!==a)return!1}}return!0}var _g=e=>e.type==="select-multiple",z_=e=>Yc(e)||Vi(e),Pl=e=>co(e)&&e.isConnected,bg=e=>{for(const t in e)if(fr(e[t]))return!0;return!1};function fo(e,t={}){const r=Array.isArray(e);if(Oe(e)||r)for(const n in e)Array.isArray(e[n])||Oe(e[n])&&!bg(e[n])?(t[n]=Array.isArray(e[n])?[]:{},fo(e[n],t[n])):tt(e[n])||(t[n]=!0);return t}function kg(e,t,r){const n=Array.isArray(e);if(Oe(e)||n)for(const s in e)Array.isArray(e[s])||Oe(e[s])&&!bg(e[s])?Ce(t)||Mu(r[s])?r[s]=Array.isArray(e[s])?fo(e[s],[]):{...fo(e[s])}:kg(e[s],tt(t)?{}:t[s],r[s]):r[s]=!Ar(e[s],t[s]);return r}var Hs=(e,t)=>kg(e,t,fo(t)),Sg=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ce(e)?e:t?e===""?NaN:e&&+e:r&&tr(e)?new Date(e):n?n(e):e;function Tl(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return Jc(t)?t.files:Yc(t)?xg(e.refs).value:_g(t)?[...t.selectedOptions].map(({value:r})=>r):Vi(t)?wg(e.refs).value:Sg(Ce(t.value)?e.ref.value:t.value,e)}var B_=(e,t,r,n)=>{const s={};for(const i of e){const a=U(t,i);a&&we(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Ks=e=>Ce(e)?e:ho(e)?e.source:Oe(e)?ho(e.value)?e.value.source:e.value:e;const Xh="AsyncFunction";var V_=e=>(!e||!e.validate)&&!!(fr(e.validate)&&e.validate.constructor.name===Xh||Oe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Xh)),q_=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Zh(e,t,r){const n=U(e,r);if(n||Gc(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=U(t,i),o=U(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};s.pop()}return{name:r}}var W_=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,H_=(e,t)=>!Bo(U(e,t)).length&&Le(e,t);const K_={mode:zt.onSubmit,reValidateMode:zt.onChange,shouldFocusError:!0};function Q_(e={}){let t={...K_,...e},r={submitCount:0,isDirty:!1,isLoading:fr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Oe(t.defaultValues)||Oe(t.values)?kt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:kt(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Cl(),array:Cl(),state:Cl()},h=Wh(t.mode),y=Wh(t.reValidateMode),w=t.criteriaMode===zt.all,v=x=>S=>{clearTimeout(c),c=setTimeout(x,S)},_=async x=>{if(!e.disabled&&(d.isValid||x)){const S=t.resolver?ot((await A()).errors):await z(n,!0);S!==r.isValid&&f.state.next({isValid:S})}},m=(x,S)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((x||Array.from(o.mount)).forEach(j=>{j&&(S?we(r.validatingFields,j,S):Le(r.validatingFields,j))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ot(r.validatingFields)}))},p=(x,S=[],j,$,D=!0,I=!0)=>{if($&&j&&!e.disabled){if(a.action=!0,I&&Array.isArray(U(n,x))){const q=j(U(n,x),$.argA,$.argB);D&&we(n,x,q)}if(I&&Array.isArray(U(r.errors,x))){const q=j(U(r.errors,x),$.argA,$.argB);D&&we(r.errors,x,q),H_(r.errors,x)}if(d.touchedFields&&I&&Array.isArray(U(r.touchedFields,x))){const q=j(U(r.touchedFields,x),$.argA,$.argB);D&&we(r.touchedFields,x,q)}d.dirtyFields&&(r.dirtyFields=Hs(s,i)),f.state.next({name:x,isDirty:K(x,S),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else we(i,x,S)},g=(x,S)=>{we(r.errors,x,S),f.state.next({errors:r.errors})},k=x=>{r.errors=x,f.state.next({errors:r.errors,isValid:!1})},b=(x,S,j,$)=>{const D=U(n,x);if(D){const I=U(i,x,Ce(j)?U(s,x):j);Ce(I)||$&&$.defaultChecked||S?we(i,x,S?I:Tl(D._f)):Q(x,I),a.mount&&_()}},E=(x,S,j,$,D)=>{let I=!1,q=!1;const X={name:x};if(!e.disabled){const je=!!(U(n,x)&&U(n,x)._f&&U(n,x)._f.disabled);if(!j||$){d.isDirty&&(q=r.isDirty,r.isDirty=X.isDirty=K(),I=q!==X.isDirty);const ge=je||Ar(U(s,x),S);q=!!(!je&&U(r.dirtyFields,x)),ge||je?Le(r.dirtyFields,x):we(r.dirtyFields,x,!0),X.dirtyFields=r.dirtyFields,I=I||d.dirtyFields&&q!==!ge}if(j){const ge=U(r.touchedFields,x);ge||(we(r.touchedFields,x,j),X.touchedFields=r.touchedFields,I=I||d.touchedFields&&ge!==j)}I&&D&&f.state.next(X)}return I?X:{}},P=(x,S,j,$)=>{const D=U(r.errors,x),I=d.isValid&&Jt(S)&&r.isValid!==S;if(e.delayError&&j?(l=v(()=>g(x,j)),l(e.delayError)):(clearTimeout(c),l=null,j?we(r.errors,x,j):Le(r.errors,x)),(j?!Ar(D,j):D)||!ot($)||I){const q={...$,...I&&Jt(S)?{isValid:S}:{},errors:r.errors,name:x};r={...r,...q},f.state.next(q)}},A=async x=>{m(x,!0);const S=await t.resolver(i,t.context,B_(x||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return m(x),S},G=async x=>{const{errors:S}=await A(x);if(x)for(const j of x){const $=U(S,j);$?we(r.errors,j,$):Le(r.errors,j)}else r.errors=S;return S},z=async(x,S,j={valid:!0})=>{for(const $ in x){const D=x[$];if(D){const{_f:I,...q}=D;if(I){const X=o.array.has(I.name),je=D._f&&V_(D._f);je&&d.validatingFields&&m([$],!0);const ge=await Yh(D,i,w,t.shouldUseNativeValidation&&!S,X);if(je&&d.validatingFields&&m([$]),ge[I.name]&&(j.valid=!1,S))break;!S&&(U(ge,I.name)?X?F_(r.errors,ge,I.name):we(r.errors,I.name,ge[I.name]):Le(r.errors,I.name))}!ot(q)&&await z(q,S,j)}}return j.valid},ue=()=>{for(const x of o.unMount){const S=U(n,x);S&&(S._f.refs?S._f.refs.every(j=>!Pl(j)):!Pl(S._f.ref))&&re(x)}o.unMount=new Set},K=(x,S)=>!e.disabled&&(x&&S&&we(i,x,S),!Ar(V(),s)),J=(x,S,j)=>D_(x,o,{...a.mount?i:Ce(S)?s:tr(x)?{[x]:S}:S},j,S),O=x=>Bo(U(a.mount?i:s,x,e.shouldUnregister?U(s,x,[]):[])),Q=(x,S,j={})=>{const $=U(n,x);let D=S;if($){const I=$._f;I&&(!I.disabled&&we(i,x,Sg(S,I)),D=co(I.ref)&&tt(S)?"":S,_g(I.ref)?[...I.ref.options].forEach(q=>q.selected=D.includes(q.value)):I.refs?Vi(I.ref)?I.refs.length>1?I.refs.forEach(q=>(!q.defaultChecked||!q.disabled)&&(q.checked=Array.isArray(D)?!!D.find(X=>X===q.value):D===q.value)):I.refs[0]&&(I.refs[0].checked=!!D):I.refs.forEach(q=>q.checked=q.value===D):Jc(I.ref)?I.ref.value="":(I.ref.value=D,I.ref.type||f.values.next({name:x,values:{...i}})))}(j.shouldDirty||j.shouldTouch)&&E(x,D,j.shouldTouch,j.shouldDirty,!0),j.shouldValidate&&W(x)},B=(x,S,j)=>{for(const $ in S){const D=S[$],I=`${x}.${$}`,q=U(n,I);(o.array.has(x)||Oe(D)||q&&!q._f)&&!gn(D)?B(I,D,j):Q(I,D,j)}},le=(x,S,j={})=>{const $=U(n,x),D=o.array.has(x),I=kt(S);we(i,x,I),D?(f.array.next({name:x,values:{...i}}),(d.isDirty||d.dirtyFields)&&j.shouldDirty&&f.state.next({name:x,dirtyFields:Hs(s,i),isDirty:K(x,I)})):$&&!$._f&&!tt(I)?B(x,I,j):Q(x,I,j),Hh(x,o)&&f.state.next({...r}),f.values.next({name:a.mount?x:void 0,values:{...i}})},T=async x=>{a.mount=!0;const S=x.target;let j=S.name,$=!0;const D=U(n,j),I=()=>S.type?Tl(D._f):P_(x),q=X=>{$=Number.isNaN(X)||gn(X)&&isNaN(X.getTime())||Ar(X,U(i,j,X))};if(D){let X,je;const ge=I(),Wt=x.type===qh.BLUR||x.type===qh.FOCUS_OUT,xr=!q_(D._f)&&!t.resolver&&!U(r.errors,j)&&!D._f.deps||W_(Wt,U(r.touchedFields,j),r.isSubmitted,y,h),On=Hh(j,o,Wt);we(i,j,ge),Wt?(D._f.onBlur&&D._f.onBlur(x),l&&l(0)):D._f.onChange&&D._f.onChange(x);const Ls=E(j,ge,Wt,!1),Hi=!ot(Ls)||On;if(!Wt&&f.values.next({name:j,type:x.type,values:{...i}}),xr)return d.isValid&&(e.mode==="onBlur"?Wt&&_():_()),Hi&&f.state.next({name:j,...On?{}:Ls});if(!Wt&&On&&f.state.next({...r}),t.resolver){const{errors:Ds}=await A([j]);if(q(ge),$){const qo=Zh(r.errors,n,j),An=Zh(Ds,n,qo.name||j);X=An.error,j=An.name,je=ot(Ds)}}else m([j],!0),X=(await Yh(D,i,w,t.shouldUseNativeValidation))[j],m([j]),q(ge),$&&(X?je=!1:d.isValid&&(je=await z(n,!0)));$&&(D._f.deps&&W(D._f.deps),P(j,je,X,Ls))}},M=(x,S)=>{if(U(r.errors,S)&&x.focus)return x.focus(),1},W=async(x,S={})=>{let j,$;const D=Oa(x);if(t.resolver){const I=await G(Ce(x)?x:D);j=ot(I),$=x?!D.some(q=>U(I,q)):j}else x?($=(await Promise.all(D.map(async I=>{const q=U(n,I);return await z(q&&q._f?{[I]:q}:q)}))).every(Boolean),!(!$&&!r.isValid)&&_()):$=j=await z(n);return f.state.next({...!tr(x)||d.isValid&&j!==r.isValid?{}:{name:x},...t.resolver||!x?{isValid:j}:{},errors:r.errors}),S.shouldFocus&&!$&&ci(n,M,x?D:o.mount),$},V=x=>{const S={...a.mount?i:s};return Ce(x)?S:tr(x)?U(S,x):x.map(j=>U(S,j))},H=(x,S)=>({invalid:!!U((S||r).errors,x),isDirty:!!U((S||r).dirtyFields,x),error:U((S||r).errors,x),isValidating:!!U(r.validatingFields,x),isTouched:!!U((S||r).touchedFields,x)}),te=x=>{x&&Oa(x).forEach(S=>Le(r.errors,S)),f.state.next({errors:x?r.errors:{}})},de=(x,S,j)=>{const $=(U(n,x,{_f:{}})._f||{}).ref,D=U(r.errors,x)||{},{ref:I,message:q,type:X,...je}=D;we(r.errors,x,{...je,...S,ref:$}),f.state.next({name:x,errors:r.errors,isValid:!1}),j&&j.shouldFocus&&$&&$.focus&&$.focus()},Ie=(x,S)=>fr(x)?f.values.subscribe({next:j=>x(J(void 0,S),j)}):J(x,S,!0),re=(x,S={})=>{for(const j of x?Oa(x):o.mount)o.mount.delete(j),o.array.delete(j),S.keepValue||(Le(n,j),Le(i,j)),!S.keepError&&Le(r.errors,j),!S.keepDirty&&Le(r.dirtyFields,j),!S.keepTouched&&Le(r.touchedFields,j),!S.keepIsValidating&&Le(r.validatingFields,j),!t.shouldUnregister&&!S.keepDefaultValue&&Le(s,j);f.values.next({values:{...i}}),f.state.next({...r,...S.keepDirty?{isDirty:K()}:{}}),!S.keepIsValid&&_()},Fe=({disabled:x,name:S,field:j,fields:$,value:D})=>{if(Jt(x)&&a.mount||x){const I=x?void 0:Ce(D)?Tl(j?j._f:U($,S)._f):D;we(i,S,I),E(S,I,!1,!1,!0)}},At=(x,S={})=>{let j=U(n,x);const $=Jt(S.disabled)||Jt(e.disabled);return we(n,x,{...j||{},_f:{...j&&j._f?j._f:{ref:{name:x}},name:x,mount:!0,...S}}),o.mount.add(x),j?Fe({field:j,disabled:Jt(S.disabled)?S.disabled:e.disabled,name:x,value:S.value}):b(x,!0,S.value),{...$?{disabled:S.disabled||e.disabled}:{},...t.progressive?{required:!!S.required,min:Ks(S.min),max:Ks(S.max),minLength:Ks(S.minLength),maxLength:Ks(S.maxLength),pattern:Ks(S.pattern)}:{},name:x,onChange:T,onBlur:T,ref:D=>{if(D){At(x,S),j=U(n,x);const I=Ce(D.value)&&D.querySelectorAll&&D.querySelectorAll("input,select,textarea")[0]||D,q=z_(I),X=j._f.refs||[];if(q?X.find(je=>je===I):I===j._f.ref)return;we(n,x,{_f:{...j._f,...q?{refs:[...X.filter(Pl),I,...Array.isArray(U(s,x))?[{}]:[]],ref:{type:I.type,name:x}}:{ref:I}}}),b(x,!1,void 0,I)}else j=U(n,x,{}),j._f&&(j._f.mount=!1),(t.shouldUnregister||S.shouldUnregister)&&!(O_(o.array,x)&&a.action)&&o.unMount.add(x)}}},bt=()=>t.shouldFocusError&&ci(n,M,o.mount),sr=x=>{Jt(x)&&(f.state.next({disabled:x}),ci(n,(S,j)=>{const $=U(n,j);$&&(S.disabled=$._f.disabled||x,Array.isArray($._f.refs)&&$._f.refs.forEach(D=>{D.disabled=$._f.disabled||x}))},0,!1))},qi=(x,S)=>async j=>{let $;j&&(j.preventDefault&&j.preventDefault(),j.persist&&j.persist());let D=kt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:I,values:q}=await A();r.errors=I,D=q}else await z(n);if(Le(r.errors,"root"),ot(r.errors)){f.state.next({errors:{}});try{await x(D,j)}catch(I){$=I}}else S&&await S({...r.errors},j),bt(),setTimeout(bt);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ot(r.errors)&&!$,submitCount:r.submitCount+1,errors:r.errors}),$)throw $},Rs=(x,S={})=>{U(n,x)&&(Ce(S.defaultValue)?le(x,kt(U(s,x))):(le(x,S.defaultValue),we(s,x,kt(S.defaultValue))),S.keepTouched||Le(r.touchedFields,x),S.keepDirty||(Le(r.dirtyFields,x),r.isDirty=S.defaultValue?K(x,kt(U(s,x))):K()),S.keepError||(Le(r.errors,x),d.isValid&&_()),f.state.next({...r}))},Wi=(x,S={})=>{const j=x?kt(x):s,$=kt(j),D=ot(x),I=D?s:$;if(S.keepDefaultValues||(s=j),!S.keepValues){if(S.keepDirtyValues){const q=new Set([...o.mount,...Object.keys(Hs(s,i))]);for(const X of Array.from(q))U(r.dirtyFields,X)?we(I,X,U(i,X)):le(X,U(I,X))}else{if(Qc&&Ce(x))for(const q of o.mount){const X=U(n,q);if(X&&X._f){const je=Array.isArray(X._f.refs)?X._f.refs[0]:X._f.ref;if(co(je)){const ge=je.closest("form");if(ge){ge.reset();break}}}}n={}}i=e.shouldUnregister?S.keepDefaultValues?kt(s):{}:kt(I),f.array.next({values:{...I}}),f.values.next({values:{...I}})}o={mount:S.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!S.keepIsValid||!!S.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:S.keepSubmitCount?r.submitCount:0,isDirty:D?!1:S.keepDirty?r.isDirty:!!(S.keepDefaultValues&&!Ar(x,s)),isSubmitted:S.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:D?{}:S.keepDirtyValues?S.keepDefaultValues&&i?Hs(s,i):r.dirtyFields:S.keepDefaultValues&&x?Hs(s,x):S.keepDirty?r.dirtyFields:{},touchedFields:S.keepTouched?r.touchedFields:{},errors:S.keepErrors?r.errors:{},isSubmitSuccessful:S.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Is=(x,S)=>Wi(fr(x)?x(i):x,S);return{control:{register:At,unregister:re,getFieldState:H,handleSubmit:qi,setError:de,_executeSchema:A,_getWatch:J,_getDirty:K,_updateValid:_,_removeUnmounted:ue,_updateFieldArray:p,_updateDisabledField:Fe,_getFieldArray:O,_reset:Wi,_resetDefaultValues:()=>fr(t.defaultValues)&&t.defaultValues().then(x=>{Is(x,t.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:x=>{r={...r,...x}},_disableForm:sr,_subjects:f,_proxyFormState:d,_setErrors:k,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(x){a=x},get _defaultValues(){return s},get _names(){return o},set _names(x){o=x},get _formState(){return r},set _formState(x){r=x},get _options(){return t},set _options(x){t={...t,...x}}},trigger:W,register:At,handleSubmit:qi,watch:Ie,setValue:le,getValues:V,reset:Is,resetField:Rs,clearErrors:te,unregister:re,setError:de,setFocus:(x,S={})=>{const j=U(n,x),$=j&&j._f;if($){const D=$.refs?$.refs[0]:$.ref;D.focus&&(D.focus(),S.shouldSelect&&D.select())}},getFieldState:H}}function G_(e={}){const t=L.useRef(),r=L.useRef(),[n,s]=L.useState({isDirty:!1,isValidating:!1,isLoading:fr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:fr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Q_(e),formState:n});const i=t.current.control;return i._options=e,L_({subject:i._subjects.state,next:a=>{I_(a,i._proxyFormState,i._updateFormState)&&s({...i._formState})}}),L.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),L.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),L.useEffect(()=>{e.values&&!Ar(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[e.values,i]),L.useEffect(()=>{e.errors&&i._setErrors(e.errors)},[e.errors,i]),L.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),L.useEffect(()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[e.shouldUnregister,i]),L.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=R_(n,i),t.current}const J_=()=>{const{register:e,handleSubmit:t,formState:{errors:r},reset:n}=G_(),[s,i]=N.useState(!1),a=async o=>{i(!0);try{const{error:l}=await ae.from("contact_submissions").insert([{name:o.name,email:o.email,message:o.message}]);if(l)throw l;ie.success("Message sent successfully!"),n()}catch(l){console.error("Error submitting form:",l),ie.error("Failed to send message. Please try again.")}finally{i(!1)}};return u.jsx("div",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 min-h-screen",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 lg:py-32",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-start",children:[u.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-8",children:[u.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),u.jsxs("form",{onSubmit:t(a),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name"}),u.jsx("input",{type:"text",id:"name",...e("name",{required:"Name is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),r.name&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.name.message})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",id:"email",...e("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),r.email&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email.message})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Message"}),u.jsx("textarea",{id:"message",rows:4,...e("message",{required:"Message is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),r.message&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.message.message})]}),u.jsx("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-150 ease-in-out",children:s?u.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):u.jsxs(u.Fragment,{children:[u.jsx(v_,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})]}),u.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Contact Information"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(zo,{className:"w-6 h-6 text-primary-600 mr-3"}),u.jsx("span",{className:"text-gray-700",children:"contact@bridalbeauty.com"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(mg,{className:"w-6 h-6 text-primary-600 mr-3"}),u.jsx("span",{className:"text-gray-700",children:"+1 (555) 123-4567"})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx(pg,{className:"w-6 h-6 text-primary-600 mr-3 mt-1"}),u.jsxs("span",{className:"text-gray-700",children:["123 Bridal Lane",u.jsx("br",{}),"Wedding City, WC 12345",u.jsx("br",{}),"United States"]})]})]}),u.jsx("div",{className:"mt-8 aspect-video bg-gray-200 rounded-lg overflow-hidden",children:u.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3022.215707304371!2d-73.98823492346994!3d40.74844097138413!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259a9b3117469%3A0xd134e199a405a163!2sEmpire%20State%20Building!5e0!3m2!1sen!2sus!4v1689446670118!5m2!1sen!2sus",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]})]})})})},ef=({children:e,adminOnly:t=!1})=>{const{user:r,profile:n,loading:s}=As();return s?u.jsx("div",{className:"flex justify-center items-center h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?t&&(n==null?void 0:n.role)!=="admin"?u.jsx(ph,{to:"/dashboard",replace:!0}):u.jsx(u.Fragment,{children:e}):u.jsx(ph,{to:"/login",replace:!0})},Y_=new l_;function X_(){return u.jsx(c_,{client:Y_,children:u.jsx(Jv,{children:u.jsx(m1,{children:u.jsx(M1,{children:u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-secondary-50 to-accent-50",children:[u.jsx(__,{}),u.jsx("main",{className:"flex-1",children:u.jsxs(Vv,{children:[u.jsx(cn,{path:"/",element:u.jsx(b_,{})}),u.jsx(cn,{path:"/login",element:u.jsx(k_,{})}),u.jsx(cn,{path:"/signup",element:u.jsx(S_,{})}),u.jsx(cn,{path:"/dashboard",element:u.jsx(ef,{children:u.jsx(j_,{})})}),u.jsx(cn,{path:"/admin",element:u.jsx(ef,{adminOnly:!0,children:u.jsx(E_,{})})}),u.jsx(cn,{path:"/contact",element:u.jsx(J_,{})})]})}),u.jsx(U1,{position:"top-right"})]})})})})})}Sm(document.getElementById("root")).render(u.jsx(X_,{}));
